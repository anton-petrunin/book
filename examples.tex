%%!TEX root = the-examples.tex
\chapter{Subsets}

\section{Subsets of model space}

In this section we characterize the subsets of model space which have upper curvature bound.
We do two and three-dimensional cases;
the descriprion in higher dimensions is not as simple.

\parbf{Two-dimensional case.}
A finite union of triangles in $\Lob{2}{\kappa}$ will be also called \index{polygonal set}\emph{polygonal set}.


\begin{thm}{Theorem}\label{thm:polygon-CAT}
Let $P$ be a polygonal set in $\Lob2\kappa$ equipped with induced length metric.
Then $P\in\cCat{}{\kappa}$ if and ony if $P$ is $(2\cdot\varpi\kappa)$-simply connected. 
\end{thm}

\parit{Proof.} According to  generalized Hadamard--Cartan theorem~\ref{thm:hadamard-cartan-gen},
itis sufficient to check that 
\[\curv P\le \kappa.\eqlbl{eq:curv(P)>=k}\]

By \ref{thm:warp-curv-bound:cbb:a}, a $\kappa$-cone over
a closed interval is $\cCat{}{\kappa}$.
By Reshetnyak's gluing theorem, 
the same holds for a $\kappa$-cone over
a collection of closed intervals.

The inequality \ref{eq:curv(P)>=k} follows 
since a neighborhood of any point in $P$
is isometric to a neighborhood of the tip of a $\kappa$-cone over
a collection of closed intervals.
\qeds


Let $[a_1\dots a_n]$
be a simple closed broken geodesic in the model plane $\Lob{2}{\kappa}$.
A closure  
of a bounded component of 
$\Lob{2}{\kappa}\backslash [a_1\dots a_n]$ 
is called \index{solid polygon}\emph{solid polygon}.

If $\kappa\le 0$ then there is unique polygon which is bounded by $[a_1\dots a_n]$,
while in the case $\kappa>0$
there are two such polygons,
one on each side of $[a_1\dots a_n]$.
Note that the half-spheres in $\Lob{}\kappa$ for $\kappa>0$ are included in the class of polygons.


\begin{thm}{Corollary}\label{thm:2-d-cba}
Let $P$ be a polygon in $\Lob{2}{\kappa}$ equipped with the length-metric. 
\begin{subthm}{thm:2-d-cba:k=<0} 
If $\kappa\le 0$ then $P\in\cCat{}{\kappa}$ 
\end{subthm}
\begin{subthm}{thm:2-d-cba:k>0}
If $\kappa> 0$ and then $P\in\cCat{}{\kappa}$ if and only if $P$ does not contain a hemisphere in its interior. 
\end{subthm}
\end{thm}

\parit{Proof; (\ref{SHORT.thm:2-d-cba:k=<0})}
Note that by construction $P$ is simply connected.
Therefore part (\ref{SHORT.thm:2-d-cba:k=<0})
follows from Theorem \ref{thm:polygon-CAT}.

\parit{(\ref{SHORT.thm:2-d-cba:k>0}).}
Applying rescaling, we can assume that $\kappa=1$ and therefore $\Lob2\kappa=\mathbb{S}^2$.

Note that if $P$ contains a closed hemisphere it is not $(2\cdot\pi)$-simply connected;
in fact the $\partial_{\mathbb{S}^2}[\Conv(\partial_{\mathbb{S}^2} P)]$ forms a closed geodesic in $P$ with length smaller that $2\cdot\pi$.

If $P$ is not $(2\cdot\pi)$-simply connected
then it contains a closed geodesic $\gamma$ 
of length smaller than $2\cdot\pi$.
Note that $\gamma$ bounds a convex set $K$ in $\mathbb{S}^2$ 
and  $K\supset \partial_{\mathbb{S}^2} P$.
According to Hemisphere lemma (\ref{lem:hemisphere})
$\gamma$ lies outside of a closed hemisphere.
This hemisphere have to lie in the interior of $P$,
a contradiction.
\qeds



The following theorem 
is a partial case of a more general result proved by Bishop in \cite{bishop:jordan};
see also the discussion after Example 9.1.6 in the book of Burago--Burago--Ivanov \cite{BBI}.

\begin{thm}{Theorem}\label{thm:2d-bishop}
Let $\Omega$ be an open  proper simply connected subset in $\Lob2{\kappa}$.
If $\kappa>0$, assume in addition that $\Omega$ does not contain a closed halphsphere.

Consider $\Omega$ with the induced intrinsic metric.
Then the completion $\Omega^*$ of $\Omega$ is a $\cCat{}{\kappa}$ space.
\end{thm}

\parbf{Remark.}
Note that if $\Omega$ is bounded by a simple closed rectifiable curve its completion of $\Omega^*$ is isometric to the closure $\bar{\Omega}$  of $\Omega$ equipped with the length metric. 
In general, the space $\Omega^*$ admits natural length-preserving map in $\bar{\Omega}$, 
but 
this map might be not injective 
and its image might be proper subset of $\bar{\Omega}$.

%%%%%%%%+PIC???

\parit{Proof.}
Fix the points $x^1,x^2,x^3,x^4\in\Omega$.
Note that it is sufficient to prove that 
\begin{clm}{}\label{clm:2+2-Omega}
(2+2)-point $\kappa$-comparison holds for any four points 
$x^1, x^2, x^3, x^4$ in $\Omega$ 
equipped with the length metric.
\end{clm}

Fix $\eps>0$.
Connect $x^i$ to $x^j$ by a curve $\gamma_{ij}$ in $\Omega$;
such that 
\[\length\gamma_{ij}<\dist{x^i}{x^j}{\Omega}+\eps.\]

Note that there is a polygon $P\subset \Omega$ 
which contains all $\gamma_{ij}$.

By Theorem~\ref{thm:2-d-cba}, $P\in \cCat{}{\kappa}$.
In particular the points  $x^1,x^2,x^3,x^4$ satisfy (2+2)-point comparison in $P$.
By the construction,
\[\dist{x^i}{x^j}{P}\lege \dist{x^i}{x^j}{\Omega}\pm\eps\]
for all $i$ and $j$.

Since $\eps>0$ is arbitrary, \ref{clm:2+2-Omega} follows.
\qeds

\parbf{Two-convexity.}
Assume for a subset $A\subset \EE^3$
the following condition holds for any plane $W\subset\EE^3$.
If a closed curve $\gamma\:\SS^1\to A\cap W$ is null-homotopic in $A$
then $\gamma$ 
hull homotopic $\gamma\subset A\cap W$.
In this case we say that $A$ is \index{two-convex}\emph{two-convex}.

This definition is closely related to the one given by Gromov in \cite[\S\textonehalf]{gromov:SaGMC}, see also \cite{panov-petrunin:sweeping}.

Note that according to this definition any simply connected subset in $\EE^2$ is 2-convex.

Note that intersection of arbitrary collection of  two-convex sets is two-convex.
The later makes possible to define \emph{two-convex hull} $\Conv_2 A$ of a set $A$
as the minimal two-convex set containing $A$.

\begin{thm}{Proposition}
Let $A$ be a subset in $\EE^3$
and $B=\Conv_2 A$ is its two-convex hull.
Assume $K\subset \EE^3$ be a convex set which does not intersect $A$.
Then $K\backslash B$ is convex.
\end{thm}

\parit{Proof.}
Assume contrary; 
that is the intersection $K\backslash B$ is a proper subset of $Z=\Conv(K\backslash B)$.

Consider the set $B'=B\backslash Z$. 
Note that $B'$ is a proper subset of $B$,
$B'\supset A$ and $B'$ is two convex.
that is $B$ is not the minimal two-convex subset containing $A$,
a contradiction.
\qeds



\begin{thm}{Proposition}\label{prop:stong-two-convex}
Assume $A$ is a  two-convex subset in $\EE^3$.
Then for any convex set $K$ the restriction homomorphism of first \v{C}ech cohomology
\[\check{H}^1(A,\ZZ_2)\to \check{H}^1(A\cap K,\ZZ_2)\]
is onto.
\end{thm}

\parit{Proof.}
Let $\Omega\subset \EE^3$ be open and two-convex.

Arguing by contradiction, assume $\Omega$ is not strongly two-convex;
that is there is a closed curve $\gamma$
in $\Omega$ 
which is contractable in $\Omega$ but not contractable in the intersection $\Conv\gamma\cap \Omega$.

Denote by ???

Since $\Omega$ is open, 
we can assume that $\gamma$ is smooth
and it is contracted by a smooth map from disc $\DD$ to $\Omega$.

 
\qeds


The following proposition describes a construction producing $\Conv_2 \Omega$ for an open set $\Omega\subset\EE^3$.

\begin{thm}{Proposition}\label{prop:2-conv-construction}
Let $\Pi_1,\Pi_2\dots$ be an everywhere dense
sequence of planes in $\EE^3$.
Given an open set $\Omega$ consider 
the recucevly defined sequence of open sets 
$\Omega=\Omega_0\subset\Omega_1\subset\dots$ 
such that 
$\Omega_n$ is the union of $\Omega_{n-1}$ 
and all the bounded compontnets of 
$\EE^3\backslash(\Pi_n\cup \Omega_{n-1})$.
Then 
\[\Conv_2\Omega=\bigcup_n\Omega_n.\]

\end{thm}

\parit{Proof.}
Set 
\[\Omega'=\bigcup_n\Omega_n.\]
Note that $\Omega'$ is a union of open set, in particular it is open.

The inclusion $\Conv_2\Omega\supset\Omega'$
is evident.

It remains to show that $\Omega'$ is two-convex.
Assume contrary; 
that for a plane $\Pi$ 
there is a closed curve $\gamma\:\SS^1\to \Pi\cap \Omega'$ 
which is null-homotopic in $\Omega'$,
but not null-homotopic in $\Pi\cap\Omega'$.

By approximation we can assume that $\Pi=\Pi_n$ and $n$ is large enogh so that $\gamma$ lies in $\Omega_{n-1}$.
The latter contradicts the $n$-th step in the construction. 
\qeds

\begin{thm}{Corollary}
Two-convex hull of open set in $\EE^3$ is open.
\end{thm}

\parit{Proof.}
Observe that by Proposition~\ref{prop:2-conv-construction}
the two-convex hull of open set is a union of open sets.
\qeds




\begin{thm}{Shefel's Theorem}\label{thm:shefel}
Let $\Omega$ be an open simply connected 
subset of $\EE^3$.
Equip $\Omega$ with the induced length metric 
and let $\Omega^*$ be its completion.
Then $\Omega^*\in\cCat{}0$  
if and only if $\Omega$ is two-convex.
\end{thm}

Before commenig to the proof of the theorem, 
let us formulate and prove a couple of its corollaries.

\begin{thm}{Corollary}
Let $\mathfrak{C}$ be a subset in $\EE^3$ 
which can be presented as intersection of some collection 
of open two-convex set.
Equip $\mathfrak{C}$ with induced length metric and denote by $\mathfrak{C}^*$ its completion.
Then any metric component of $\mathfrak{C}^*$ forms a $\cCat{}{0}$ space.
\end{thm}

\parit{Proof.}
The open two convex sets containing $\mathfrak{C}^*$
form a ??? with respect to intersection.

Note that if $\Omega_1\subset \Omega_2$ then there the inclusion
$\Omega_1\to \Omega_2$ induce a short map $\Omega_1^*\to \Omega_2^*$.
Therefore the completions of open two-convex sets containing $\mathfrak{C}$ form an inverse system.
The completion $\mathfrak{C}$ is isometric to the inverse limit of this system.

Since every $\Omega^*$ is $\cCat{}{0}$ we obtain that (2+2)-comparison holds for all quadrouple of points in $\mathfrak{C}$.
Hence the same holds for the completion $\mathfrak{C}^*$.
Passing to any metric component of $\mathfrak{C}^*$ we get a $\cCat{}{0}$ space.
\qeds

The following subcorollary is the main statement in Shefel's original paper \cite{shefel-graph}.

Let $U$ be an open set in $\RR^2$.
Recall, that function $f\:U\to\RR$ is called \index{saddle function}\emph{saddle} if for any linear function $\ell\:\RR^2\to\RR$ the difference 
$f-\ell$
does not have local maxima and minima in $U$.

\begin{thm}{Subcorollary}
In particular, if $U\subset\EE^2$ is a topological disc and $f\:U\to \RR$ is a saddle locally Lipschitz function then the graph
$z=f(x,y)$ in $\EE^3$ equipped with induced length metric is a $\cCat{}{0}$ space
\end{thm}

\parit{Proof.}
Since the function $f$ is Lipschitz, the metric on the graph
\[\mathfrak{C}=\set{(x,y,z)\in \EE^3}{z=f(x,y),\ (x,y)\in U}\]
is locally bi-Lipschitz to the euclidean metric on $U$.
In particular the completion $\mathfrak{C}$ and its completion $\mathfrak{C}^*$ has one metric component.

It remains to note that $\mathfrak{C}$ can be presented as intersection 
\[\mathfrak{C}
=
\Omega_1\cap\Omega_2\cap\dots\] 
of open two-convex sets 
\[\Omega_n
=
\set{(x,y,z)\in \EE^3}{z\lg f(x,y)\pm\tfrac1n,\ (x,y)\in U}.\]
\qedsf


First we will prove a partial case of the theorem.

A subset $K$ of $\EE^m$ is called \index{polytope}\emph{polytope} 
if it can be presented as a union of finite number of simplices.

Note any polytope admits a triangulation admits a finite triangulation.
Therefore any polytope equipped with induced intrinsic metric 
forms a Euclidean polyhedral space as defined in \ref{def:poly}.

\begin{thm}{Lemma}
Shefel's Theorem~\ref{thm:shefel} holds if the set $\Omega$ is formed by interior of a polytope.
\end{thm}

\begin{wrapfigure}{r}{20mm}
\begin{lpic}[t(-7mm),b(0mm),r(0mm),l(0mm)]{pics/polytope(1)}
\end{lpic}
\end{wrapfigure}

\parbf{Remark.}
Let $K$ be a polytope and $\Omega$ its interior,
both considered with induced intrinsic metric..
Then typically the completion $\Omega^*$ 
is isometric to $K$.
However in general
we only have locally distance preserving map $\Omega^*\to K$;
it has to be onto, 
but in may be not injective. 
An example can be seen on the picture.

\parit{Proof.}
If $\Omega$ is not two-convex then 
there is a plane $\Pi$ in $\EE^3$ 
which pass through a vertex $v$ of $K$ 
such that punctured neightborhood of $v$ in $\Pi$ lies in $\Omega$.
Choose a plane $\Pi'$ parallel and very close to $\Pi$ which cuts from the complement of $\Omega$ a little piramid $S$ with vertex $v$.
Consider a small triangle $\triangle$ in $\Pi'$ wich surrounds the base of $S$.
Note that $\triangle$ is a geodesic triangle in $\Omega^*$
for which the point-on-side comparison \ref{cat-monoton}
fails to be true.
That is, $\curv_v\Omega^*\nleqslant0$. %???+PIC

Now let us prove the converse.
Since $\Omega$ is two-convex,
by Proposition~\ref{prop:stong-two-convex} that 
any point $v$ on the boundary of $K$ 
admits a conic neighborhood $U$ in $K$ 
such that the intersection $U\cap\Omega$ 
is formed by a finite collection of simply connected components.

It follows that any point $\Omega^*\backslash \Omega$ 
is locally isometric to a cone over spherical polygons.
Moreover since $\Omega$ is two-convex, 
each polygon does not contain a closed hemisphere in its interior. 
By Lemma ??? each of these spherical polygon is $\cCat{}{1}$. 
Therefore, by cone construction (\ref{thm:warp-curv-bound:cbb:a}) we get that $\Omega^*$ is locally $\cCat{}0$.
\qeds



\begin{thm}{Exercise}\label{ex:polygon-slices}
Let $m\ge 3$,
$K\subset \Lob{m}{\kappa}$ be a compact subset.
Assume that for any 2-dimensional subspace $W$ in $\Lob{m}{\kappa}$
the set $K\cap W$ is a polytope. 
Then $K$ is a polytope.
\end{thm}

\begin{thm}{Lemma}\label{lem:loc-concave}
Let $\Omega$ be an open set in $\Lob{3}{\kappa}$.
Then $\Conv_2\Omega$ is an open set.
 
Moreover, the set $\Lambda=\Lob{3}{\kappa}\backslash(\bar\Omega\cup\Conv_2\Omega)$
 is locally convex;
that is, for any $x\in\Lambda$ therew is $\eps>0$ such that the intersection
$\oBall(x,\eps)\cap(\Lambda\backslash\Omega^{(2)})$
is convex.
\end{thm}

\begin{thm}{Lemma}
Closed locally convex set in $\Lob{3}{\kappa}$ is convex. 
\end{thm}




\begin{thm}{Key lemma}
The two-convex hull of the interior of polytope in $\Lob{3}{\kappa}$
is an interior of a polytope.
\end{thm}

\parit{Proof.}
Let $K$ be a polytope in $\Lob{3}{\kappa}$;
denote by $\Omega$ the interior of $K$.

Denote by $F_1,\dots,F_m$ the faces of $K$.

Set $\Omega'=\Conv_2\Omega$ and let $K'$ be the closure of $\Omega'$.
Further, 
for each $i$, 
set $F'_i=F_i\backslash \Omega'$.
In other words, 
$F'_i$ is the subset $F_i$ 
which remains on the boundary of $K'$.

From the construction of two-convex hull (\ref{prop:2-conv-construction})
we get that.

\begin{clm}{}\label{clm:F'-convex}
$F'_i$ is convex subset of $F_i$.
\end{clm}

Further, since $\Omega'$ is two-convex,
we get the following.

\begin{clm}{}\label{clm:complement-of-F'-convex}
Each connected component of the complement $F_i\backslash F'_i$ is convex.
\end{clm}

Indeed, assume a connected component $A$ of $F_i\backslash F'_i$ fails to be convex.
Then there is a suppoiting line $\ell$ to $A$ touching $A$ at a single point in the interior of $F_i$.
Then one could rotate the plane of $F_i$ slightly arounf $\ell$ and move it paralleley to cut a hat from the complement of $\Omega$.
The latter means that $\Omega$ is not two-convex, 
a contradiction.
\claimqeds

From \ref{clm:F'-convex} and \ref{clm:complement-of-F'-convex}, we get that 

\begin{clm}{}$F'_i$ is a convex polygon for each $i$.
\end{clm}

Consider the complement 
$\EE^3\backslash \Omega$ 
equipped with the length metric.
By construction of two-convex hull (\ref{prop:2-conv-construction}), 
the complement $L=\EE^3\backslash (\Omega'\cup K)$
is locally convex;
that is, any points of $L$ admits a convex neighborhood.

Summarizing (1)
$\Omega'$ is a 2-convex open set,
(2) the boundary $\partial\Omega'$ 
contains a finite number of polygons $F_i'$
and the remaing part is locally concave.
It remains to show that (1) and (2) imply that $\partial\Omega'$
is piecewise linear.
The latter is left to the reader.

Assume this does not hols. 
According to ??? there is a section of $\Omega'$ by a plane such that ???.
Note that the point $p$ does not belong to $F_i'$.



In particular, if $W$ is a 2-dimensional subspace of $\Lob3\kappa$ 
then the intersection $W\cap K'$ is bounded 
by finite number of locally concave arcs and the  intersections $F_i'\cap W$.
Note that the locally concave arcs have their ends on the ends of $F_i'\cap W$;
the later is formed by a line segment or it degenerates to a point.

\begin{clm}{}\label{clm:intersection-is-polytope}
For any 2-dimesional subspace $W\subset\Lob{3}{\kappa}$,
the intersection $W\cap \Conv_2 \Omega$ is interior of a polytope.
\end{clm}

Indeed, set $L=W\cap \Conv_2 \Omega$.
According to Lemma~\ref{lem:loc-concave}, 
the boundary of $L$ is formed by the intersections s $F'_i\cap W$
and locally concave arcs.

Arguing by contradiction, 
assume that $L$ is not interior of a polytope then there is a smooth extremal point on one of these arcs; 
that is, there is a point $x\in\partial_W L$ such that ???.
Without loss of generality, we can assume that $x$ does not lie on a line connecting a pair of vertices of $F_1',\dots,F_n'$.

Consider the local supporting plane $\Pi$ to $\Lambda$ at $x$
and let $Q_x\ni x$ be the connected component of $\Pi\cap\Lambda'$.

\begin{clm}{}\label{clm:Q-is-interval}
$Q_x$ is an open interval. 
\end{clm}

Indeed,???\claimqeds

Let $Q_x=\l]ab\r[$.
Clearly $a\in\partial F_i'$ and $b\in\partial F_j'$
for some $i$ and $j$.
Since $x$ does not lie on a line connecting the vertices,
we can assume that $a$ is not a vertex of $F_i'$;
denote by $[vw]$ the edge of $F_i'$ containing $a$.

\begin{clm}{}\label{clm:[vw]cPi}
$Q_x$ contains the interior of the triangle $[bvw]$.
\end{clm}

Indeed,???\claimqeds

Note that the claims \ref{clm:[vw]cPi} and \ref{clm:Q-is-interval} contradict eachother.
Therefore \ref{clm:intersection-is-polytope} is proved.


Note that the complement $\Omega^\complement$ is a polytope.
In particular, $\Omega^\complement$ is a union of finite number of convex polytopes,
say 
$\Omega^\complement=R_1\cup\dots\cup R_n$.
For each $i$, the complement $R_i'=R_i\backslash \Conv_2\Omega$ is a convex set.
According to 
Exercise~\ref{ex:polygon-slices} 
and \ref{clm:intersection-is-polytope}, 
$R_i'$ is a convex polytope for each $i$.
Hence $(\Conv_2\Omega)^\complement=\bigcup_i R_i'$ is a polytope.
\qeds

\parit{Proof of \ref{thm:shefel}.}
Note that it is sufficient to show that
(2+2)-point $\kappa$-comparison holds for any
4 points $p^1,p^2,x^1,x^2\in\Omega$.

Fix $\eps>0$.
Choose a six broken lines connecting all the pairs of points $p^1,p^2,x^1,x^2$ such that length of each at most $\eps$ bigger than 
the distance between its ends.
Choose a simply connected polytope $P$ 
in $\Omega$ which contains all these broken lines.
Denote by $P'$ the two-convex hull of 
$P$.

According to ???, $P'$ is a polytope
Therefore $\curv P'\le \kappa$. 
\qeds

\parbf{Variations and generalization.}
A theorem analogous to ??? holds also in $\HH^3$, 
and a local version holds also in $\SS^3$.

As it will be shown in Section \ref{sec:with-bry},
an analog of Theorem~\ref{thm:shefel}
holds in higher dimensions assuming $\Omega$ has smooth boundary.
If the boundary is not smooth this is not longer true already in $\EE^4$;
an example can be found among intersections of two two-convex domains with smooth boundaries.
The following exercise is closely related.

\begin{thm}{Exercise}
Let $\Pi_1,\Pi_2$ be two planes in $\EE^4$ intersecting at single point.
Consider the complement $\Omega=\EE^4\backslash(\Pi_1\cup\Pi_2)$
equipped with induced length metric.
Denote by $\tilde\Omega^*$ the completion of universla cover of $\Omega$.
Show that $\Pi_1\perp\Pi_2$ if and only if $\tilde\Omega^*\in\cCat{}{0}$.
\end{thm}


\section {Manifolds-with-boundary}\label{sec:with-bry}
Let $M$ be a connected $m$-dimensional Riemannian manifold with possibly nonempty boundary $\partial M$.
%By a \emph{Riemannian manifold-with-boundary} $M$ of a given differentiability class, we mean $M$ has possibly nonempty boundary and has an extension across the boundary to a manifold $\overline{M}$ of the same class with empty boundary, such that  each boundary point of $M$ has a neighborhood $U$ in $\overline{M}$ coordinatized by $\R^n$ and for which $M\cap U$ is coordinatized by a halfspace of $\R^n$. The Riemannian metric of $\bar M$ is of differentiability class one degree lower. 
We equip $M$ with the length metric. 

For each point $p\in\partial M$,
let 
\[k_1(p)\le k_2(p)\le\dots\le k_{m-1}(p)\]
denote the principal curvatures
of $\partial M$ at $p$;
the sign convention is made so that
so the closed ball in Euclidean space has positive curvatures 
and the complement of the open ball has negative curvatures.

We say that $M$ has \emph{convex boundary} 
if $k_1(p)\ge 0$ for any $p\in\partial M$. 

\begin{thm}{Proposition}\label{prop:example-mnflds-with-bry:CBB}
Let $M$ be a Riemannian manifold with possibly nonempty boundary.
Then
$M\in\CBB{}{\kappa}$ 
if and only if $M$ has convex boundary 
and the sectional curvature of $M$ is at least $\kappa$.
\end{thm}

\parit{Proof; (\ref{thm:example-mnflds-with-bry:CBB}).}
To prove ``if'' part, we need to present a neighborhood of any given point $p$ in $M$ where the $\kappa$-comparison holds.

If $p$ lies in the interior of $M$, 
the existence of such neighborhood 
follows from the standard Toponogov comparison theorem.

Otherwise 
Without loss of generality, we may assume that $M$ 
is a subset of Riemannian manifold without boundary $N$, 
which has sectional curvature $\ge \kappa$.???

Note that sufficiently small spherical neighborhood of 
any point in $N$ is convex.???\qeds


Let $p\in\partial M$ and $\sigma$ is a sectional direction at $p$ to $\partial M$.
We say that $\sigma$ is a concave direction if the second fundamental form of $\partial M$ restricted to $\sigma$ is negative.

\begin{thm}{Theorem}\label{thm:example-mnflds-with-bry:CBA}
Let $M$ be a Riemannian manifold with possibly nonempty boundary.
Then
$\curv M\le \kappa$
if and only if the sectional curvature of $M$ is at most $\kappa$
and $\partial M$ has sectional curvature at most $\kappa$ 
in all concave sectional directions of $\partial M$.
\end{thm}

We say that $M$ has \emph{two-convex boundary} 
if $k_2(p)\ge 0$ for any $p\in\partial M$.

%\begin{thm}{Corollary}
%Let $M$ be a Riemannian manifold with possibly nonempty two-convex boundary.
%Assume sectional curvature of $M$ and $\partial M$ are at most $\kappa$.
%Then $\curv M\le \kappa$.
%\end{thm}
%
%\parit{Proof.}
%Follows directly from 
%Theorem~\ref{thm:example-mnflds-with-bry:CBA}.
%\qeds

\begin{thm}{Corollary}
Let $M$ be a Riemannian manifold with possibly nonempty two-convex boundary.
Then $\curv M\le{\kappa}$ 
if and only if the sectional curvature of $M$ is at most $\kappa$.
\end{thm}

\parit{Proof.}
If $\partial M$ is two-convex, 
it has no points with concave sectional directions.
It remains to apply Theorem~\ref{thm:example-mnflds-with-bry:CBA}.
\qeds

\begin{thm}{Definition}\label{def:mwb-segment}??? A geodesic of $M$ consists of  \emph{interior
segments}, by which we mean nonconstant open segments  that have zero acceleration in $M$ but
may include points of $\partial M$;  \emph{boundary segments}, nonconstant geodesics of $\partial M$ whose acceleration in $M$ is nonzero (necessarily normal to $\partial M$) on a dense open subset; \emph{switch-points}, where the geodesic switches between interior and boundary segments;  and \emph{chatter-points}, namely accumulation points of switch-points. 
\end{thm}

Examples of single geodesics are easily constructed that have a Cantor set of positive measure of chatter-points.
The existence of chatter-points makes the variational theory of geodesics
difficult to analyze.

%\begin{thm}{Theorem (Regularity of geodesics)}\label{thm:m-w-b-geodesic-''}
%Let $M$ be a Riemannian 
%manifold-with-boundary.
%Let $\gamma$ be a geodesic of $M$ with unit-speed parameter $s$.  Then  after  passing to coordinates, $\gamma''(s)$ exists everywhere except at switch-points, where $\gamma''(s)$ exists one-sidedly.  At chatter-points, $\gamma''(s)$ vanishes.
%\end{thm}

\begin{thm}{Lemma}\label{lem:m-w-b-geodesic-'}
Let $M$ be a Riemannian manifold-with-boundary, and $\gamma$ be a geodesic of $M$. Then:
\begin{subthm}{}
$\gamma$ is continously differentiable.
\end{subthm}
\begin{subthm}{}
The $2$-plane in $T_{\gamma(t)}N$  normal to $\partial M$ and containing $\gamma'(t)$ is an osculating plane for $\gamma$ at $t$.
\end{subthm}
\end{thm}


\parit{Proof.}
Let  $\gamma$ be a unit-speed geodesic of $M$ with $\gamma(t)=p\in\partial M$.  
At an endpoint of $\gamma$, we take $\gamma'$ to mean the corresponding one-sided derivative.

\begin{clm}{}\label{clm:1-sided-geo-mwb}
If $\gamma$ is one-sidedly differentiable at $t$, then $\gamma$ is differentiable at $t$.
\end{clm}

\begin{clm}{}\label{clm:diff-geo-mwb}
$\gamma$ is differentiable.
\end{clm}
Let $N$ be a Riemannian manifold without boundary, of the same dimension as $M$, in which  a neighborhood of $p$ in $M$ is isometrically embedded. We may take  $N=\cup \,H_u$, $-\epsilon_2<u<\epsilon_2$, for a family of equidistant hypersurfaces $H_u$ with unit normal field $v$,  where each $H_u$ intersects $\partial M$ transversely with $v$ pointing out of $M$, and the 
principal curvatures of the $H_u$ are positive toward $-v$. 
%Letting $H_0$ pass through $p$, we may take $H_0$ to lie in the exponential image of a  neighborhood of $o$ in a sphere through $o$  in $T_p M$. 
Set $H_+=\cup_{\,u>0} \,H_u$.

Projection 
$$\map[2]\:H_+ \to H_0$$
 along $v$ is defined and length-nonincreasing.  Moreover, the image of $H_+\cap M$ lies in $H_0\cap M$ because $v$ points into $M$ at points of $\partial M$.

Suppose $\gamma$ is not one-sidedly differentiable, say $\gamma^+(t)$ does not exist.  Then for $i=1,2$ there are distinct unit vectors $v_i \in T_p\partial M$, and points $\gamma(t_{ij})$, $t_{ij}>0$, $t_{ij}\to t$, such that the directions of the preimages of $\gamma(t_{ij})$ in a normal coordinate neighborhood in $N$ of $p$  converge to $v_i$.

Now choose the family $H_u$ so that $v_1$ and $v_2$ lie on opposite sides of $H_0$ at $p$.  Then $\gamma$ may be shortened in $M$ by applying the projection $\map[2]$ to a subsegment of $\gamma$ that lies in $H_+$ and runs between two points in $H_0$.  This contradiction shows $\gamma^+(t)$ exists. By \ref{clm:1-sided-geo-mwb}, $\gamma'(t)$  exists.

\begin{clm}{}\label{clm:C^1-geo-mwb}
$\gamma$ is continuously differentiable. 
\end{clm}

 Suppose $\gamma'$ is not continuous at $t$. Then $\gamma'(t)\in T_p\partial M$. Without loss of generality, there is a sequence $t_j>0$, $t_j\to t^+$, such that  $\gamma'(t_j)\to v\ne \gamma'(0)$.  Then also $v\in T_p\partial M$. In the notation of Claim \ref{clm:diff-geo-mwb}, choose the family $H_u$ so that $\gamma'(t)$ and $v$ lie on opposite sides of $H_0$ at $p$, and $\gamma'(t))$ points into $H_+$.  Then $\gamma$ has a subsegment in $H_\epsilon^+$ that runs between two points in $H_\epsilon$ for some $\epsilon>0$.   
 Thus $\gamma$ may be shortened in $M$ by projecting this subsegment to $H_\epsilon$.  The claim follows by contradiction.

  
\begin{clm}{}\label{clm:C^1-geo-mwb}
 The $2$-plane in $T_{\gamma(t)}N$ that contains $\gamma'(t)$ and is normal to $\partial M$ is an osculating plane for $\gamma$ at $t$.
\end{clm}

Recall that for any differentiable curve $\alpha$ in $N$, a $2$-plane $Q\subset T_{\alpha(t)}N$ is called  an \emph{osculating plane} for $\alpha$ at $t$ if for each $u$ in a neighborhood of $t$ in the parameter interval of $\alpha$, there is a  $2$-plane $Q_u$ containing $\alpha'(t)$ and $\exp _{\alpha(t)}^{-1} (\alpha(u))$ such that $Q=\lim_{u\to t}Q_u$.  If $Q$ exists and $\alpha$ is not a geodesic on a neighborhood of $t$,  then $Q$ is uniquely determined. 

Fix directions $u_1\in T_p\partial M$  orthogonal to $\gamma'(t)$, and $u_2\in  (T_p\partial M)^\perp$.  Let $R$ be the oriented $3$-plane  spanned by $\gamma'(t)$, $u_1$ and $u_2$.  Denote by $P_1(\theta,\varphi)$ and $P_2(\theta,\varphi)$, the two hyperplanes in $T_pN$ that are spanned by $R^\perp$ and  the $2$-plane in $R$ whose intersection with  the $\,\gamma'(t)\,u_1\,$-plane makes angle $\theta\in [0,\pi)$ with $\gamma'(t)$ and whose angle with $u_2$ is $\varphi\in (0,\pi/2)$.
For $i=1,2$, let $S_i(\theta, \varphi, k)$ be the $(n-1)$-sphere of radius $k$ in $T_pN$ passing through $o$, and  tangent to $P_i(\theta,\varphi)$ on the side away from $u_2$.  Consider the exponential images $H_i(\theta, \varphi, k)$  of  neighborhoods of $o$ in $S_i(\theta, \varphi, k)$.  
In the notation of Claim \ref{clm:diff-geo-mwb}, length-decreasing projection implies that on some open interval about $t$, $\gamma$ lies in $H_i(0, \varphi, k)\cup H_i(0, \varphi, k)^+$.  Otherwise, $\gamma(t+\epsilon)$ would enter the side with positive curvatures of $H_i(\theta, \varphi, k)$ for some $\theta<0$.  Then $\gamma|[t, t+\epsilon]$ would lie in that side, in contradiction to $\gamma'(t)$ being tangent to $H_i(0, \varphi, k)$.  It follows that on some open interval about $t$, the exponential preimage in $T_pN$ of $\gamma$  does not enter the open side with positive curvatures of $S_i(0,\varphi, k)$.

Now the claim follows by letting $\varphi\to 0$ and $k\to\infty$.
\qeds

\begin{thm}{Lemma}\label{lem:abs-cont}
Let $\gamma$ be a geodesic of a Riemannian manifold-with-boundary $M$. Then after passing to coordinates, 
$\gamma'$  is  locally Lipschitz continuous.  
\end{thm}

\parit{Proof.}
Specifically,  we extend $M$ to a manifold $N$ without boundary, and regard a  coordinate neighborhood in $N$ of $p=\gamma(t)$ as a neighborhood  in $\R^m$.

\begin{clm}{}\label{clm:pointwise-k-bound}
The pointwise arc-chord curvature  of  $\,\gamma$ (Definitions \ref{def:arc-chord}, \ref{ptwise-arc-chord}) is bounded above.
\end{clm}
It suffices to reparameterize $\gamma$ by Euclidean arc-length, say $\gamma\:[a,b]\to \R^n$, and we do so for notational convenience. 
%For a fixed $s \le
%\pi/\sqrt{k}$, the curvature $k$ of a $k$-curve $\sigma$ in $\Lob2\kappa$ is determined by the ratio $s/r$ of   length   to chord-length (i.e. \emph{arc/chord} ratio) of a segment of $\sigma$ of length $s$.  

As lengths of subarcs of $\gamma$ approach $0$ and corresponding arc/chord ratios approach $1$, an upper bound on arc/chord curvature may be deduced from a lower bound on the maximum length for which the ratio lies in a given small interval $[1,1+\delta]$.    Thus we prove the claim by showing,  given $t\in [a,b]$,  that for some  $\epsilon>0$, there is a uniform upper bound on the arc/chord ratio of $\gamma|[t_1,t_2]$ if  $a\le t_1\le t\le t_2\le b$, $|t_1-t_2|\le \epsilon$. 

We may suppose  $\gamma(t)$  does not lie in a line segment $\gamma|[t'_1,t'_2]$ where  $t_1< t'_1< t< t'_2$ or $t_1=t'_1= t< t'_2$ or $ t'_1< t= t'_2=t_2$,  since otherwise there is nothing to prove. In particular, $\gamma(t)\in\partial M$. We may also assume $\gamma(t_1)$ and $\gamma(t_2)$ lie in $\partial M$. Indeed, if one or both of $\gamma(t_1)$ and $\gamma(t_2)$ lie in $M-\partial M$, consider the maximal segment $\overline{\gamma}$ of $\gamma|[t_1,t_2]$ with endpoints on $\partial M$.  Since $\gamma$ is $C^1$, then by the triangle inequality for the polygonal curve consisting of the segments that extend $\overline{\gamma}$  to $\gamma$ together with the chord of $\overline{\gamma}$,  the arc/chord ratio of $\gamma$ is at most that of $\overline{\gamma}$.

% It follows that if   $|t_1-t_2|$ is sufficiently small, then  $\tilde\alpha$ has  geodesic curvature $\le k+\epsilon$, where  $k$ is an upper bound for the principal curvatures of $\partial M$  in a neighborhood of $\gamma(t_0)$.  


By Lemma \ref{lem:m-w-b-geodesic-'}, the 
Riemannian osculating plane of $\gamma$ at $t$ is defined and normal to $\partial M$.
%, i.e. as $t_1,t_2$ approach $t$, $Q$ approaches the $2$-plane that contains $\gamma'(t)$ and is normal to $\partial M$ at $p$.  
%Moreover, these osculating planes vary continuusly with $t$. 
Then for $\delta\in (0,\pi/2)$, we may choose $\epsilon>0$  such that  the  angle  in $\R^m$ between the normal to $\partial M$ and the $2$-plane $Q$ through points $\gamma(t_1), p=\gamma(t), \gamma(t_2)$ is bounded above by $\pi/2-\delta$, uniformly in $t$. Thus if $\tilde\alpha$ is the curve in $Q$  whose image is the intersection curve $\partial M\cap Q$ 
between $\gamma(t_1)$ and $\gamma(t_2)$, then  $\tilde\alpha$ has  geodesic curvature bounded in absolute value by some uniform constant $A>0$.

Let $\alpha$ be the geodesic of $M\cap Q$ between $\gamma(t_1)$ and $\gamma(t_2)$. 
  In $Q$, $\alpha$ is a $C^1$ convex curve that runs along the boundary of the convex hull of $\tilde\alpha$.  Therefore the total turn of  the tangent line of any subarc of  $\alpha$ with endpoints on $\partial M$  is not more than the total absolute turn of the tangent line of the subarc of  $\tilde\alpha$ with the same endpoints. This total absolute turn is not more than the total turn for a subarc $\sigma'$,  of the same length as $\tilde\alpha$, of a $k$-curve $\sigma$ of constant curvature $k=A$ in $\Lob2\kappa$.  

Consider a hinge whose sides are tangent  at $t_1$ and $t_2$ to $\alpha|[t_1,t_2]$; and an analogous hinge whose sides are tangent  at the endpoints of $\sigma'$ to a subarc $\sigma'$ of $\sigma$ of the same length as $\alpha|[t_1,t_2]$.  We have just seen that the hinge angle is not smaller for $\alpha|[t_1,t_2]$ than for $\sigma'$.  Therefore the 
chord-length of $\alpha|[t_i,t_2]$ is not smaller than  the chord-length of $\sigma'$.  It follows that there is a uniform upper bound on the arc/chord ratio of $\alpha|[t_1,t_2]$ if   $a\le t_1\le t\le t_2\le b$, $|t_1-t_2|\le \epsilon$.

By assumption, $\gamma$ is a Riemannian-shortest curve in $M$ between $\gamma(t_1)$ and $\gamma(t_2)$. The absolute difference of the Riemannian and Euclidean lengths of $\gamma|[t_1,t_2]$ 
 is at most a uniform constant multiple of the former. Hence the (Euclidean) length of $\gamma|[t_1,t_2]$
  is at most a uniform constant  multiple of the length of $\alpha|[t_1,t_2]$.   Therefore the arc/chord ratio of $\gamma|[t_1,t_2]$ is uniformly bounded above, as required.

\begin{clm}{}\label{clm:global-k-bound}$\gamma'$ is Lipschitz continuous. 
\end{clm}
By \ref{clm:pointwise-k-bound} and globalization of arc-chord curvature, 
\ref{subthm:local-global-base-angle}, the angle $\theta$ in $\R^n$ between $\gamma^+(t_1)$(respectively $-\gamma^-(t_2)$)  and the endpoint chord of $\gamma|[t_1,t_2]$ is at most equal to the angle between a circular arc of curvature $k$ and length $t_2-t_1$  in $\R^2$ and  its endpoint chord.  But $\theta$ is also the angle in $\R^n$ between the tangent lines to $\gamma$ at $t_1$ and $t_2$.  The claim follows.
\qeds

Now we are ready for one of our main curvature estimates. We formulate it in terms of an 
isometric imbedding of $M$ in some Euclidean space $\EE^n$. 
%It would be desirable
%to have a more direct link with the natural intrinsic invariants, the sectional
%curvature of $M$, the normal curvature of $B$ in $M$, and the injectivity radii of $M$
%and $B$, but our method has the advantage that it gives the estimate in terms of
%a single number. 

Say a positive number $r$ is a \emph{tubular
radius} for $M$ in $\EE^n$ if every point at distance $r$ or less from $M$ is the center of a
closed ball $\EE^n$ meeting $M$ at a single point. Then the principal curvatures of $M$, as well as  those of $\partial M$ belonging to a normal
vector whose $M$-component is outward from the interior of $M$, are bounded
above by $1/r$. Conversely, if we take an upper bound $k$ of such principal
curvatures, then
$1/k$ will be a tubular radius for a sufficiently small region of $M$.


\begin{thm}{Lemma}\label{lem:diff-inequality} Let $r = 1/k$ be a tubular radius for $M$, and let $\gamma$ and $\sigma$ be
geodesics in $M$ having speed $\le 1$. Let $f(r) = |\gamma(s) - \sigma(s)|$ be the
displacement in $\EE^n$ between corresponding points. Then 
%except at the countably many points where $f''$ fails to exist, we have a differential inequality
$$f'' \ge -k^2f,$$ with strict inequality where $f> 0$.
\end{thm}


%
%\parit{Proof of \ref{thm:m-w-b-geodesic-''} (Regularity of geodesics).}
%\begin{clm}{}\label{clm:chatter-''-0}
%At a chatter-point $\gamma(t_0)$ of $\gamma$, the normal curvature $k_0$ of $\,\partial M$ in the direction of $\gamma'(t_0)$ vanishes.
%\end{clm}
%
%If $k_0>0$, we could shorten $\gamma$ by replacing $\gamma|[t_0-\epsilon,t_0+\epsilon]$ by an interior geodesic of $M$ for $\epsilon$ sufficiently small. If $k_0<0$,  we could shorten $\gamma$ by replacing $\gamma|[t_0-\epsilon,t_0+\epsilon]$ by its normal projection to $\partial M$  for $\epsilon$ sufficiently small. Therefore $k_0=0$.
%
%\begin{clm}{}
%Define $k(t)$ on open boundary segments of $\gamma$ to be the normal curvature of $\partial M$ in the direction of $\gamma'(t)$, and set $k(t)=0$ otherwise.
%Let $x_n$ be the distance from $\partial M$, and  $x_i$, $i < n$, be coordinates on $\partial M$, extended to be
%constant on geodesics of $M$ normal to $\partial M$. Denote the Christoffel symbols of $M$ in these coordinates  by $\Gamma_{ijl}$. Then $\gamma$ satisfies, in an integral sense, the equations
%$$ {x_k}'' \ =\  -\sum_{i,j}x'_ix'_j\Gamma_{ijk},\,\, l< n,
%\eqlbl{eq:geo-eq-tangent}$$
%$$  {x_n}'' \ =\  \ -\ k\ - \sum_{i,j < n}x'_ix'_j\Gamma_{ijn}.
%\eqlbl{eq:geo-eq-normal}$$
%  \end{clm}
%
%On open segments of $\gamma$ in the interior of $M$, we have $k=0$, so  equations \ref{eq:geo-eq-tangent} and  \ref{eq:geo-eq-normal} are the geodesic equations of $\gamma$. On open boundary segments of $\gamma$, we have $x_n=0$, so equations \ref{eq:geo-eq-tangent} and \ref{eq:geo-eq-normal} again hold  since the coordinate matrix of the second fundamental form of $\partial M$ with
%respect to $\partial / \partial x_n$ is $-\Gamma_{ijk}$ where $i, j < n$.
%
%Given the absolute
%continuity of $\gamma'$ and the normality of $\gamma''$ on $B$, it follows that equations \ref{eq:geo-eq-tangent} and \ref{eq:geo-eq-normal} hold everywhere in an
%integral sense. Then \ref{eq:geo-eq-tangent} holds everywhere since the right-hand side is continuous. At the countably many switch points, \ref{eq:geo-eq-normal}  can be
%interpreted as being valid in the limit from either side. Except at switch-points, the right side of \ref{eq:geo-eq-normal}  is
%continuous, and hence the acceleration of $\gamma$ exists. In
%particular, the acceleration exists and is $0$ whenever $k = 0$. 

\begin{thm}{Lemma}\label{lem:mnflds-with-bry:CBA}
Let $M$ and $N$ be  Riemannian manifolds with possibly nonempty boundary, where $M$ is isometrically immersed in $N$.  Then the difference between distances in $M$ and in $N$ respectively is on the order of the cube of either one.
\end{thm}
%
\begin{thm}{Lemma}\label{lem:mnflds-with-bry:CBA}
Let $M$ be a Riemannian manifold with possibly nonempty boundary.
Then every point of $M$ has a $\cCat{}{}$ neighborhood.
\end{thm}

\parit{Proof of \ref{thm:example-mnflds-with-bry:CBA}.}???
\qeds



\section{Convex hypersurfaces in Riemannian manifolds}

The following theorem provides an other source of examples of $\CBB{}{}$-spaces.

\begin{thm}{Theorem}\label{thm:buyalo} 
Let $M$ be an $m$-dimensional Riemannian manifold 
with sectional curvature $\ge \kappa$ 
and $F\subset M$ be a convex hypersurface equipped with the length-metric;
that is, $F$ bounds a convex set. 
Then $F\in\CBB{m-1}\kappa$.
\end{thm}

This theorem, in a slightly weaker form was proved in by Buyalo in \cite{buyalo:convex-surface}, 
and then its statement was made more exact in \cite{akp}.

\begin{thm}{Lemma}\label{lem:smoothing}
Let $M$ be a Riemannian manifold and $f\:M\subto\RR$ be a locally Lipshits $\lambda$-concave subfunction. 
Then there is a sequence of smooth subfunctions $f_n\:M\subto\RR$ and $\lambda_n\in\RR$ such that $f_n\to f$ and $\lambda_n\to \lambda$ as $n\to\infty$ and each $f_n$ is $\lambda_n$-concave.
\end{thm} 

This lemma is a slight generalization of \cite[Theorem 2]{greene-wu}
by Greene and Wu;
it can be proves the same way.
%???Should we include the proof???

\parit{Proof of theorem \ref{thm:buyalo}}. 
Without loss of generality one can assume that 
\begin{enumerate}
\item \label{k>=-1}$\kappa\ge -1$, 
\item $F$ bounds a compact convex set $C$ in $M$, 
\item there is a function $h$ defined in a neighborhood of $C$ such that $h''\le -2$ and $|h(x)|<1/10$ for any $x\in C$,
\item \label{property:unique} there is unique geodesic between any two points in $C$. 
\end{enumerate}
(If not, rescale and pass to the boundary of the convex piece cut by $F$  from a small convex ball centered at $x\in F$, taking $h=-10\cdot\dist[{{}}]{x}{}{}$.)

Consider the function $f=\dist{F}{}{}$.
By Rauch comparison 
(as it is stated in Petersen's book \cite[11.4.8]{petersen:RiemGeom}), 
for any unit-speed geodesic $\gamma$ in the interior of $C$, $(f\circ\gamma)''$ is bounded in the barrier sense by the corresponding value in the model case --- when $M\iso\Lob2{-1}$ and $F$ is a geodesic.  
In particular,
\[(f\circ\gamma)''\le f\circ\gamma.\]


Therefore $f+\eps\cdot h$ is $(-\eps)$-concave in 
$\Omega_\eps=f^{-1}((0,\eps))\cap C$.
Take 
\[K_\eps\z=f^{-1}([\tfrac{1}{3}\cdot\eps,\tfrac{2}{3}\cdot\eps])\cap C.\]
Applying Lemma~\ref{lem:smoothing}, we can find a smooth $(-\tfrac\eps2)$-concave function $f_{\eps}$ which is arbitrarily close to $f+\eps\cdot h$ on $K_\eps$ and which is defined on a neighborhood of $K_\eps$. 
Take a regular value $\theta_\eps\approx\tfrac{1}{2}\cdot\eps$ of $f_\eps$. (In fact one can take $\theta_\eps=\tfrac{1}{2}\cdot\eps$, but it requires a little work.) 
Since $|(h|C)|<1/10$, the level set $F_\eps=f_{\eps}^{-1}(\theta_\eps)$ will lie entirely in $K_\eps$.
Therefore $F_\eps$ forms a smooth closed convex hypersurface.

Let us denote by $\rho$ and $\rho_\eps$ the length-metrics on  correspondingly $F$ and $F_\eps$.
By the Gauss formula, $(F_\eps,\rho_\eps)$ has curvature $\ge\kappa$.
Further, $F_\eps$ bounds a compact convex set $C_\eps$ 
and $F_\eps\to F$, $C_\eps\to C$ in Hausdorff sense as $\eps\to 0$. 
By property (\ref{property:unique}), the restricted metrics from $M$ to $C$ and to $C_\eps$ are length-metrics.
Thus, $C_\eps$ is an Alexandrov space with $F_\eps$ as boundary, that converges in Gromov--Hausdorff sense to $C$.  It follows from ???  that $(F_\eps,\rho_\eps)$  converges in Gromov--Hausdorff sense to $(F,\rho)$.
Therefore $(F,\rho)$ is an Alexandrov space with curvature $\ge \kappa$.\qeds

\noi{\bf Remark.} 
We are not aware of any proof of theorem \ref{thm:buyalo} which is not based on the Gauss formula. 
Finding such a proof would be interesting on its own, and also could lead to the generalization of theorem \ref{thm:buyalo} to the case when $M$ is an Alexandrov space.



\section{Comments and open problems}

\begin{thm}{Shefel's conjecture}
Any saddle hypersurface in $\RR^3$ equipped with the length-metric has curvature $\le 0$ at any point.
\end{thm}

A surface $S$ in a metric space.
We say that $S$ is saddle if for any convex function $f\:\spc{X}\to\RR$,
the restriction $f|S$ has no local maxima. 

\begin{thm}{Generalized Shefel's  conjecture}
Any 2-dimensional saddle surface in a $\Cat{}{\kappa}$ 
equipped with the length-metric has curvature 
$\le \kappa$ at any point.
\end{thm}

It would be esting to get an analog of the flag condition for other simplices 
which (not necessary right-angled).
Such a condition for some spherical Coxeter simplex
could resolve the following problem; see \cite{panov-petrunin} for more details. 

\begin{thm}{Braid space}
Consider $\CC^n$ with coordinates $z_1,z_2,\dots,z_n$.
Let us remove from $\CC^n$ the complex hyperplanes $z_i=z_j$, for all $i\ne j$,
pass to the universal caver and consider the completion $\spc{B}_n$ 
of the obtained space.

Is it true that $\spc{B}_n\in\Cat{}{0}$ for any $n$.
\end{thm}

The above question has an affirmative answer for $n\le 3$ and open for all $n\ge 4$.

\section{Exercises}



\begin{thm}{Exercise}
Show that completion of any flat simply connected 2-dimensional manifold is a $\cCat{}0$ space. 

In particular, the set in $\EE^2$ bounded by closed simple rectifiable curve equipped with induced length metric is  a $\cCat{}0$ space. 
\end{thm}



\begin{thm}{Exercise}
Let $S$ be a 2-dimensional saddle surface in $\EE^3$ which is homeomorphic to a disc.
Show that any closed curve in $S$
of length $\ell$
bounds the area at most $c\cdot\ell^2$, 
for some universal constant $c$.
\end{thm}




