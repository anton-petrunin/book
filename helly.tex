\section{Helly's theorem}\label{sec:helly}

%???CHECK lang-schroeder HAlly THEOREM???

\begin{thm}{Helly's theorem}\label{thm:helly}
Let $\spc{U}\in\cCat{}0$ 
and $\{K_\alpha\}_{\alpha\in \IndexSet}$ be an arbitrary collection of closed bounded convex subsets of $\spc{U}$.

If 
\[\bigcap_{\alpha\in \IndexSet}K_\alpha=\emptyset\]
then there is an index array $\alpha_1,\alpha_2,\dots,\alpha_n\in \IndexSet$ such that
\[\bigcap_{i=1}^nK_{\alpha_i}=\emptyset.\]

%???Moreover, if $\dim \spc{U}\le m$ then one can assume above $n\le m+1$.
\end{thm}

\parbf{Remarks.}
\begin{enumerate}[(i)]
\item In general, none of $K_\alpha$ might be compact; 
otherwise the statement is trivial.
\item If $\spc{U}$ is a Hilbert space (not necessarily separable), 
then the above result is equivalent to the statement that a convex bounded set 
which is closed in ordinary topology forms a compact set in the weak topology.

In fact, one can define \emph{weak topology} on arbitrary metric space, by taking exteriors of closed ball as its prebase.
Then the result above implies for $\spc{U}\in\cCat{}0$, any closed bounded convex set in $\spc{U}$ is compact in weak topology 
(compare to \cite{monod}).
\end{enumerate}

\medskip

We present the proof from \cite{lang-schroeder}.

\begin{thm}{Hilbert projection theorem}\label{lem:closest point}
Let $\spc{U}\in\cCat{}0$.
Given a closed convex set $K\subset \spc{U}$ and a point $p\in \spc{U}\backslash K$, 
there is unique point $p^*\in K$ such that $\dist{p^*}{p}{}=\dist{K}{p}{}$. 
\end{thm}

\parit{Proof.} 
According to ???, the function $f=\dist[2]{p}{}{}$ is strongly convex.
The theorem follows from Lemma~\ref{lem:argmin(convex)} applied to the subspace $K\subset \spc{U}$ and the restriction $f|K$. 
\qeds

%\parit{Proof.}
%Let us first prove uniqueness. 
%Assume there are two points $y',y''\in K$ 
%so that $\dist{y'}{p}{}=\dist{y''}{p}{}=\dist{K}{p}{}$.
%Take $z$ to be midpoint of $[y'y'']$. 
%Since $K$ is convex, $z\in K$.
%From comparison, we have that $\dist{z}{p}{}<\dist{y'}{p}{}=\dist{K}{p}{}$, a contradiction
%
%The proof of existence is analogous.
%Take a sequence  of points $y_n\in K$ 
%such that $\dist{y_n}{p}{}\to \dist{K}{p}{}$.
%It is enough to show that $(y_n)$ is a Cauchy sequence; 
%thus one could take $p^*=\lim_n y_n$.

%Assume $(y_n)$ is not Cauchy, then for some fixed $\eps>0$, 
%we can choose two subsequences $(y_n')$ and $(y_n'')$ of $(y_n)$ 
%such that 
%$\dist{y'_n}{y''_n}{}\ge\eps$ for each $n$.
%Set $z_n$ to be the midpoint of $[y'_ny''_n]$; from convexity we have $z_n\in K$.
%From point-on-side comparison \ref{cat-monoton}, there is $\delta>0$ 
%such that $\dist{p}{z_n}{}\le \max\{\dist{p}{y'_n}{},\dist{p}{y''_n}{}\}-\delta$. 
%Thus 
%\[\limsup_{n\to\infty}\dist{p}{z_n}{}<\dist{K}{x}{},\] 
%a contradiction\qeds

\parit{Proof of \ref{thm:helly}.} 
Assume the contrary. Then for any finite set $F\subset \IndexSet$
\[K_{F}\df \bigcap_{\alpha\in F}K_{\alpha}\not=\emptyset,\]
we will construct point $z$ such that $z\in K_\alpha$ for each $\alpha$.
Thus we will arrive to contradiction since
\[\bigcap_{\alpha\in \IndexSet}K_\alpha=\emptyset.\]

Choose a point $p\in \spc{U}$ and set $r=\sup\dist{K_{F}}{p}{}$ where $F$ runs all finite subsets of $\IndexSet$.
Set $p^*_F$ to be the closest point on $K_{F}$ from $p$; 
according to Hilbert projection theorem (\ref{lem:closest point}), $p^*_F$ 
exits and is unique.

Take a nested sequence of finite subsets 
$F_1\subset F_2\subset \dots$ of $\IndexSet$, such that $\dist{K_{F_n}}{p}{}\to r$.

Let us show that $p^*_{F_n}$ is a Cauchy sequence. 
Indeed, if not then for some fixed $\eps>0$, 
we can choose two subsequences $(y'_n)$ and $(y''_n)$ of $(p^*_{F_n})$ 
such that $\dist{y'_n}{y''_n}{}\ge\eps$.
Set $z_n$ to be midpoint of $[y'_ny''_n]$. 
From point-on-side comparison (\ref{point-on-side}), 
there is $\delta>0$ such that 
$\dist{p}{z_n}{}\le \max\{\dist{p}{y'_n}{},\dist{p}{y''_n}{}\}-\delta$.
Thus 
\[\limsup_{n\to\infty}\dist{p}{z_n}{}<r.\]
On the other hand, from convexity, each $F_n$ 
contains all $z_\kay$ with sufficiently large $\kay$, a contradiction.

Thus, $p^*_{F_n}$ converges and we can set $z=\lim_n p^*_{F_n}$.
Clearly $\dist{p}{z}{}=r$.

Repeat the above arguments for  the sequence $F_n'=F_n\cup \{\alpha\}$.
As a result, we get another point $z'$ such that $\dist{p}{z}{}=\dist{p}{z'}{}=r$ and 
$z,z'\in K_{F_n}$ for all $n$.
Thus, if $z\not=z'$ the midpoint $\hat z$ of $[zz']$ would belong to all 
$K_{F_n}$ and from comparison we would have $\dist{p}{\hat z}{}<r$, a contradiction.

Thus, $z'=z$; in particular 
$z\in K_\alpha$ for each $\alpha\in\IndexSet$.
%
%???Finally, assume in addition that $\dim \spc{U}\le m$ and for some $n>m+1$ we have
%\[\bigcap_{i=1}^nK_{\alpha_i}=\emptyset,\]
%but any proper subcollection of $\{K_{\alpha_i}\}$ has a point in common.
%
%Let $z$ be a point which minimize $\max_i\dist{K_{\alpha_i}}{z}{}$.
%Let $z_i\in K_{\alpha_i}$ be the point such that $\dist{K_{\alpha_i}}{z}{}$
%can be reformulated the following way: there is a point on the barycentric simplex with vertexes in 
%
%According to ???, for any $\kay\ge m$, any barycentric $\kay$-simplex in $\spc{U}$
%is degenerate. 
%
% 
\qeds