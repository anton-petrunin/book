%%!TEX root =the-defs-CBB.tex
%arXiv
\chapter{Definitions of curvature bounded below}
\chaptermark{Definitions of CBB}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Four-point comparison} \label{sec:angle}

Recall (Section~\ref{sec:mod-tri/angles}) that the model angle $\angk\kappa p{x}{y}$ is defined if 
\[\dist{p}{x}{}+\dist{p}{y}{}+\dist{x}{y}{}<\varpi\kappa.\] 

\begin{thm}{Four-point comparison}
\label{df:1+3}
A quadruple of points $p,x^1,x^2,x^3$ in a metric space satisfies $\Alex\kappa$ comparison
if 
\[\angk\kappa p{x^1}{x^2}
+\angk\kappa p{x^2}{x^3}
+\angk\kappa p{x^3}{x^1}\le 2\cdot\pi.\eqlbl{Yup-kappa}\]
or at least one of the model angles $\angk\kappa p{x^i}{x^j}$ is not defined.
\end{thm}

\begin{thm}{Definition}
\label{df:cbb1+3}
Let $\spc{L}$ be a metric space.

\begin{subthm}{}
$\spc{L}$ is $\Alex{\kappa}$ 
if any quadruple $p,x^1,x^2,x^3\in \spc{L}$ satisfies  $\Alex\kappa$ comparison.
\end{subthm}

\begin{subthm}{}
$\spc{L}$ is \index{locally $\Alex{\kappa}$}\emph{locally $\Alex{\kappa}$} 
if any point $q\in \spc{L}$ admits a neighborhood $\Omega\ni q$ such that any quadruple $p,x^1,x^2,x^3\in \Omega$ satisfies  $\Alex\kappa$ comparison.
\end{subthm}

\begin{subthm}{}
$\spc{L}$  is a  $\Alex{}$ space if  $\spc{L}$  is $\Alex{\kappa}$ for some $\kappa\in\RR$.
\end{subthm}
\end{thm}

\parbf{Remarks} 
\begin{itemize}
\item $\Alex\kappa$ length spaces are often called \index{curvature bounded below}\emph{spaces with curvature $\ge\kappa$ in the sence of Alexandrov}.  These spaces will usually be denoted by $\spc{L}$, for $\spc{L}$ower curvature bound.
\item In the definition of $\Alex{\kappa}$, when $\kappa>0$ most authors assume in addition that the diameter is at most $\varpi\kappa$.
For complete length spaces, the latter means that it is not isometric to one of the exceptional spaces, see \ref{diam-k>0}. 
We do not make this assumption. In particular, we consider the real line to have curvature $\ge 1$.
\item If $\kappa<\Kappa$, then any complete length $\Alex{\Kappa}$ space is $\Alex{\kappa}$.
Moreover directly from the definition it follows that if $\Kappa\le 0$, then any $\Alex{\Kappa}$ space is $\Alex{\kappa}$.
However, in the case $\Kappa>0$ the latter statement does not hold and the former statement is not trivial; it will be proved in \ref{cor:CAT>k-sence}.
\end{itemize}

\begin{thm}{Exercise}\label{ex:(3+1)-expanding}
Let $\spc{L}$ be a metric space.
Show that $\spc{L}$ is $\Alex\kappa$
if for any quadruple of points $p,x^1,x^2,x^3\in \spc{L}$ such that
\[\dist{p}{x^1}{},\dist{p}{x^2}{},\dist{p}{x^3}{}<\tfrac{\varpi\kappa}2,\]
there is a quadruple of points $q,y^1,y^2,y^3\in\Lob{2}\kappa$
such that 
\[\dist{p}{x^i}{}=\dist{q}{y^i}{} 
\quad \text{and}\quad \dist{x^i}{x^j}{}\le\dist{y^i}{y^j}{}\] 
for all $i$ and $j$.
\end{thm} %%%???wrong???

The exercise above is a special case of (1+\textit{n})-point comparison (\ref{thm:pos-config}).

\begin{thm}{Exercise}\label{ex:cbb-area}
Let $\spc{L}$ be a metric space.
Show that $\spc{L}$ is $\Alex0$
if and only if 
\[
\area\modtrig0(xyz)
\le
\area\modtrig0(pxy)+\area\modtrig0(pyz)+\area\modtrig0(pzx)
\]
for any 4 distinct points $p,x,y,z\in\spc{L}$.
\end{thm}

Recall that $\o$ denotes a selective ultrafilter on $\NN$, which is fixed once and  for all.
The following proposition follows directly from the definition of $\Alex\kappa$ comparison and the definitions of $\o$-limit and $\o$-power given in Section~\ref{ultralimits}.


\begin{thm}{Proposition}\label{prp:A^omega}
Let $\spc{L}_n$ be a $\Alex{\kappa_n}$ space for each $n$.
Assume $\spc{L}_n\to \spc{L}_\o$ 
and $\kappa_n\to\kappa_\o$ as $n\to\o$.
Then $\spc{L}_\o$ is $\Alex{\kappa_\o}$.

Moreover, a metric space $\spc{L}$ is $\Alex\kappa$ if and only if so is
its ultrapower $\spc{L}^\o$.
\end{thm}

\begin{thm}{Theorem}\label{thm:submetry-CBB}
Let $\spc{L}$ be a $\Alex{\kappa}$ space, $\spc{M}$ be a metric space and $\sigma\:\spc{L}\to\spc{M}$ be a submetry.
Assume $p,x^1,x^2,x^3$ is a quadruple of points in $\spc{M}$ such that 
$\dist{p}{x^i}{}<\tfrac{\varpi\kappa}2$ for any $i$.
Then the  quadruple satisfies $\Alex{\kappa}$ comparison.

In particular, 
\begin{subthm}{}
The space $\spc{M}$ is locally $\Alex{\kappa}$.
Moreover, any open ball of radius $\tfrac{\varpi\kappa}4$ in $\spc{M}$ is $\Alex{\kappa}$.
\end{subthm}

\begin{subthm}{}
If $\kappa\le 0$, then  $\spc{M}$ is $\Alex{\kappa}$.
\end{subthm}
\end{thm}

Corollary~\ref{cor:submetry-cbb} gives a stronger statement; it states that if $\spc{L}$ is a complete length space, then $\spc{M}$ is always $\Alex{\kappa}$.
The theorem above together with Proposition~\ref{prop:submet/G}
imply the following:

\begin{thm}{Corollary}\label{thm:CBB/G}
Assume that  the group $G$ acts isometrically on a $\Alex{\kappa}$ space $\spc{L}$ and has  closed orbits.
Then the quotient space $\spc{L}/G$ is locally $\Alex\kappa$. 
\end{thm}

\parit{Proof of \ref{thm:submetry-CBB}.}
Fix a quadruple of points $p,x^1,x^2,x^3\in \spc{M}$ such that 
$\dist{p}{x^i}<\tfrac{\varpi\kappa}2$ for any $i$.
Choose an arbitrary $\hat p\in \spc{L}$ such that $\sigma(\hat{p})=p$.

Since $\sigma$ is submetry, we can choose the points $\hat{x}^1,\hat{x}^2,\hat{x}^3\in \spc{L}$ such that $\sigma(\hat x_i)=x_i$ and
\[\dist{p}{x^i}{\spc{M}}
\lege
\dist{\hat{p}}{\hat{x}^i}{\spc{L}}
\pm\delta\]
for all $i$ and any fixed $\delta>0$.

Note that 
\[\dist{x^i}{x^j}{\spc{M}}
\le
\dist{\hat{x}^i}{\hat{x}^j}{\spc{L}}\le \dist{p}{x^i}{\spc{M}}+\dist{p}{x^j}{\spc{M}}+2\cdot\delta\]
for all $i$ and $j$.

Since $\dist{p}{x^i}{}<\tfrac{\varpi\kappa}2$,
we can choose $\delta>0$ above so that the angles $\angk\kappa {\hat{p}}{\hat{x}^i}{\hat{x}^j}$ are defined.
Moreover, given $\eps>0$, the value $\delta$ can be chosen in such a way that the inequality
\[\angk\kappa p{x^i}{x^j}
<
\angk\kappa {\hat{p}}{\hat{x}^i}{\hat{x}^j}+\eps
\eqlbl{eq:angles-M-L}\]
holds for all $i$ and $j$.

By $\Alex\kappa$ comparison in $\spc{L}$,
we have
\[\angk\kappa {\hat{p}}{\hat{x}^1}{\hat{x}^2}
+\angk\kappa {\hat{p}}{\hat{x}^2}{\hat{x}^3}
+\angk\kappa {\hat{p}}{\hat{x}^3}{\hat{x}^1}
\le 
2\cdot\pi.\]
Applying  \ref{eq:angles-M-L}, 
we get 
\[\angk\kappa p{x^1}{x^2}
+\angk\kappa p{x^2}{x^3}
+\angk\kappa p{x^3}{x^1}< 2\cdot\pi+3\cdot\eps.\]
Since $\eps>0$ is arbitrary we have 
\[\angk\kappa p{x^1}{x^2}
+\angk\kappa p{x^2}{x^3}
+\angk\kappa p{x^3}{x^1}\le 2\cdot\pi;\]
that is,
the $\Alex\kappa$ comparison holds for this quadruple.
\qeds

\section{Geodesics}

We are going to show that all complete length $\Alex{}$ spaces have plenty of geodesics in the following sense. Recall that a subset of a topological space is called G-delta if it is a countable intersection of open sets.

\begin{thm}{Definition}\label{def:alm-geod}
A metric space $\spc{X}$ is called \index{geodesic!G-delta geodesic space}\index{G-delta geodesic space}\emph{G-delta geodesic} 
if for any point $p\in \spc{X}$ there is a dense G-delta set $W_p\subset\spc{X}$ such that for any $q\in W_p$ there is a geodesic $[p q]$.

A metric space $\spc{X}$ is called {}\emph{locally G-delta geodesic} 
if for any point $p\in \spc{X}$ there is a G-delta set $W_p\subset\spc{X}$ such that
$W_p$ is dense in a neighborhood of $p$ 
and for any $q\in W_p$ there is a geodesic $[p q]$.
\end{thm}

Recall that general complete length spaces might have no geodesics;
see Exercise~\ref{ex:no-geod}.

\begin{thm}{Exercise}\label{ex:nongeod-cbb}
Construct a complete length $\Alex0$ space that is not geodesic.
\end{thm}

\begin{thm}{Definition}\label{def:straight}
Let $\spc{X}$ be a metric space 
and $p\in \spc{X}$.
A point $q\in \spc{X}$ is called \index{straight!$*$-straight point}\emph{$p$-straight} (briefly, $q\in \Str(p)$\index{$\Str(p)$}) if
\[\limsup_{r\to q}\frac{\dist{p}{r}{}-\dist{p}{q}{}}{\dist{q}{r}{}}=1.\]

For an array of points $x^1,x^2,\dots,x^\kay$, 
we use the notation
\[\Str(x^1,x^2,\dots,x^\kay)=\bigcap_{i=1}^\kay\Str(x^i).\]
\end{thm}

\begin{thm}{Theorem}\label{thm:almost.geod}
Let $\spc{L}$ be a complete length $\Alex{}$ space and $p\in \spc{L}$.
Then the set  $\Str(p)$ is a dense G-delta set, 
and for any $q\in \Str(p)$ there is a unique geodesic $[p q]$.

In particular, $\spc{L}$ is G-delta geodesic.
\end{thm}

The proof below is very close to the original proof given by Conrad Plaut \cite[Th. 27]{plaut:survey}.

\parit{Proof.}
Given a positive integer $n$, 
consider the set $\Omega_n$ of all points $q\in \spc{L}$ such that
\[(1-\tfrac{1}{n})\cdot\dist[{{}}]{q}{r}{}<
\dist{p}{r}{}-\dist{p}{q}{}
<\tfrac{1}{n}\]
for some $r\in \spc{L}$.
Clearly $\Omega_n$ is open; 
let us show that $\Omega_n$ is dense in $\spc{L}$.

Assuming the contrary, there is a point $x\in \spc{L}$ such that 
\[\oBall(x,\eps)\cap \Omega_n=\emptyset\] for some $\eps>0$.
Since $\spc{L}$ is a length space, 
for any $\delta>0$, there exists a point $y\in \spc{L}$ such that 
\[\dist{x}{y}{}<\tfrac\eps2+\delta
\quad\text{and}\quad
\dist{p}{y}{}<\dist{p}{x}{}-\tfrac\eps2+\delta.
\]
If $\eps$ and $\delta$ are sufficiently small, then
\[(1-\tfrac{1}{n})\cdot\dist[{{}}]{y}{x}{}
<
\dist{p}{x}{}-\dist{p}{y}{}<\tfrac{1}{n};\] 
that is, $y\in\Omega_n$, 
a contradiction.

Note that $\Str(p)=\bigcap_{n\in \NN}\Omega_n$.
It follows that $\Str(p)$ is a dense G-delta set.

Assume $q\in \Str(p)$;
let us show that there is a unique geodesic connecting $p$ and $q$.
Note that it is sufficient to show that for all sufficiently small
$t>0$ there is a unique point $z$ such that 
\[t
=
\dist{q}{z}{}
=
\dist{p}{q}{}-\dist{p}{z}{}.
\eqlbl{eq:thm:connect-1}\]

First let us show uniqueness. 
Assume $z$ and $z'$ both satisfy \ref{eq:thm:connect-1}.
Take a sequence $r_n\to q$ such that 
\[\frac{\dist{p}{r_n}{}-\dist{p}{q}{}}{\dist[{{}}]{q}{r_n}{}}
\to 1.\] 
By the triangle inequality, 
\[\dist{z}{r}{}-\dist{z}{q}{},
\quad
\dist{z'}{r}{}-\dist{z'}{q}{}
\ge 
\dist{p}{r}{}-\dist{p}{q}{};\] 
thus, as $n\to\infty$,
\[\frac{\dist{z}{r_n}{}-\dist{z}{q}{}}{\dist{q}{r_n}{}},
\quad 
\frac{\dist{z'}{r_n}{}-\dist{z'}{q}{}}{\dist{q}{r_n}{}}
\to 1.\]
Therefore $\angk\kappa q z{r_n}\to\pi$ and $\angk\kappa q{z'}{r_n}\to\pi$.
(Here we use that $t$ is small, otherwise if $\kappa>0$ the angles might be undefined.)
 
From $\Alex\kappa$ comparison (\ref{df:cbb1+3}), $\angk\kappa q z {z'}=0$ and thus $z=z'$.

The proof of existence is similar.
Choose a sequence $r_n$ as above.
Since $\spc{L}$ is a complete length space, 
there is a sequence $z_\kay\in \spc{L}$ such that $\dist{q}{z_\kay}{}\to t$ and $\dist{p}{q}{}-\dist{p}{z_\kay}{}\to t$ as $\kay\to\infty$.
Then 
\[
\lim_{n\to\infty}
\lim_{\kay\to\infty}
\angk\kappa q{z_\kay}{r_n}
=\pi.\] 
Thus, for any $\eps>0$ and sufficiently large $n,\kay$, we have $\angk\kappa q{z_\kay}{r_n}\z>\pi-\eps$.
From $\Alex\kappa$ comparison (\ref{df:cbb1+3}), for all large $\kay$ and $j$, we have $\angk\kappa q{z_\kay}{z_j}\z<2\cdot\eps$ and thus 
\[\dist{z_\kay}{z_j}{}<\eps\cdot\Const(\kappa,t);\]
that is, $\{z_n\}$ is Cauchy, and $z=\lim_n z_n$ satisfies \ref{eq:thm:connect-1}.
\qeds

\begin{thm}{Exercise}\label{ex:almost.geod}
Let $\spc{L}$ be a complete length $\Alex{}$ space and $A\subset\spc{L}$ be a closed subset.
Show that there is a dense G-delta set $W\subset\spc{L}$ such that
for any $q\in W$, there is a unique geodesic $[pq]$ with
$p\in A$ that realizes the distance from $q$ to $A$; that is, $\dist{p}{q}{}=\distfun{A}{q}{}$.
\end{thm}

Recall that directions of geodesics are defined in Section~\ref{sec:tangent-space+directions}.%??? V: why is this sentence here? directions of geodesics are not mentioned in the next exercise.

\begin{thm}{Exercise}\label{ex:G-delta-not-thru}
Construct a complete length $\Alex{}$ space $\spc{L}$
with an everywhere dense G-delta set $A$
such that 
$A\cap \mathopen{]}xy\mathclose{[}=\emptyset$
for any geodesic $[xy]$ in $\spc{L}$. 
\end{thm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{More comparisons}\label{sec:more-angles}

The following theorem makes it easier to use Euclidean intuition in the Alexandrov universe.

\begin{thm}{Theorem}
\label{thm:defs_of_alex} 
If $\spc{L}$ is a $\Alex\kappa$ space, 
then the following conditions hold for all $p,x,y\in \spc{L}$, once the model triangle $\modtrig\kappa(p x y)$ is defined.

\begin{subthm}{2-sum} 
(adjacent angle comparison\index{comparison!adjacent angle comparison}) for any geodesic $[x y]$ and $z\in \mathopen{]}x y\mathclose{[}$, $z\not=p$ we have
\[\angk\kappa z p x
+\angk\kappa z p y\le \pi.\]
\end{subthm}

\begin{subthm}{point-on-side}
(point-on-side comparison%
\index{point-on-side comparison})
for any geodesic $[x y]$ and $z\in \mathopen{]}x y\mathclose{[}$, we have
\[\angk\kappa x p y\le\angk\kappa x p z;\]
or, equivalently, 
\[\dist{\tilde p}{\tilde z}{}\le \dist{p}{z}{},\]
where $\trig{\tilde p}{\tilde x}{\tilde y}=\modtrig\kappa(p x y)$, $\tilde z\in\mathopen{]} \tilde x\tilde y\mathclose{[}$, $\dist{\tilde x}{\tilde z}{}=\dist{x}{z}{}$.
\end{subthm}

\begin{subthm}{angle}(hinge comparison\index{hinge comparison})
for any hinge $\hinge x p y$, the angle 
$\mangle\hinge x p y$ is defined and 
\[\mangle\hinge x p y\ge\angk\kappa x p y,\]
or equivalently
\[\side\kappa \hinge x p y\ge\dist{p}{y}{}.\]
Moreover, if $z\in\mathopen{]}x y\mathclose{[}$ and $z\not=p$, then 
\[\mangle\hinge z p y + \mangle\hinge z p x\le\pi\]
for any two hinges $\hinge z p y$ and $\hinge z p x$ with common side $[z p]$.
\end{subthm}

Moreover, in each case the converse holds if $\spc{L}$ is G-delta geodesic.
That is if one of the conditions (\ref{SHORT.2-sum}), (\ref{SHORT.point-on-side}) or  (\ref{SHORT.angle}) holds in a  G-delta geodesic space $\spc{L}$, then $\spc{L}$ is $\Alex\kappa$.
\end{thm}

\parbf{Remarks.} 
Monotonicity of the model angle with respect to adjacent sidelengths (\ref{cor:monoton}) was named the \index{convexity property}\emph{convexity property} by Alexandrov.
%???REF???

A bit weaker form of (\ref{SHORT.angle}) 
is given in \ref{lem:devel-glob}.
See also Problem~\ref{open:hinge-}.


\parit{Proof; (\ref{SHORT.2-sum}).} Since $z\in \mathopen{]}x y\mathclose{[}$, we have $\angk\kappa z x y=\pi$. 
Thus, $\Alex\kappa$ comparison
\[\angk\kappa z x y
+\angk\kappa z p x
+\angk\kappa z p y\le2\cdot\pi\]
implies
\[\angk\kappa z p x
+\angk\kappa z p y
\le\pi.\]

\parit{(\ref{SHORT.2-sum}) $\Leftrightarrow$ (\ref{SHORT.point-on-side})}. 
Follows from Alexandrov's lemma (\ref{lem:alex}).

\parit{(\ref{SHORT.2-sum}) $+$ (\ref{SHORT.point-on-side}) $\Rightarrow$ (\ref{SHORT.angle}).} 
From (\ref{SHORT.point-on-side}) we get that for $\bar p\in\mathopen{]}xp]$ and $\bar y\in\mathopen{]}xy]$, the function $(\dist{x}{\bar p}{},\dist{x}{\bar y}{})\mapsto\angk\kappa x{\bar p}{\bar y}$ is nonincreasing in each argument.
In particular, 
$\mangle\hinge x p y\z=\sup\{\angk\kappa x{\bar p}{\bar y}\}$
%Hence $\mangle\hinge x p y$
 is defined and is
at least $\angk\kappa x p y$.

\begin{wrapfigure}{o}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-805}
\end{wrapfigure}

From above and (\ref{SHORT.2-sum}), it follows that 
\[\mangle\hinge z p y + \mangle\hinge z p x\le\pi.\]

\parit{Converse.}
Assume first that $\spc{L}$ is geodesic.
Consider a point  $w\in \mathopen{]} p z \mathclose{[}$ close to $p$.
From (\ref{SHORT.angle}), it follows that 
\[\mangle\hinge w x z+ \mangle\hinge w x{p}\le\pi\quad \text{and}\quad \mangle\hinge w y z + \mangle\hinge w y{p}\le\pi.\]
Since $\mangle\hinge w x y\le \mangle\hinge w x p +\mangle\hinge w y{p}$ (see \ref{claim:angle-3angle-inq}), we get 
\[\mangle\hinge w x z+ \mangle\hinge w y z +\mangle\hinge w x y
\le
2\cdot\pi.\]
Applying the first inequality in (\ref{SHORT.angle}), 
\[\angk\kappa w x z
+ \angk\kappa w y z 
+\angk\kappa w x y
\le
2\cdot\pi.\]
Passing to the limits  $w\to p$, we have
\[\angk\kappa p x z 
+ \angk\kappa p y z 
+\angk\kappa p x y
\le
2\cdot\pi.\]

If $\spc{L}$ is only G-delta geodesic, we can apply the  above arguments to sequences of points $p_n,w_n\to p$, $x_n\to x$, $y_n\to y$ such that  $[p_nz]$, $w_n\in\mathopen{]}z p_n\mathclose{[}$ and  $[x_nw_n]$, $[y_n w_n]$ exist,  and then pass to the limit as $n\to\infty$.
\qeds

\begin{thm}{Exercise}\label{mink+alex=euclid} 
Let $\spc{L}$ be  $\RR^m$ with a metric defined by a norm.
Show that $\spc{L}$ is a complete length $\Alex{}$ space if and only if $\spc{L}\iso\EE^m$.
\end{thm}

\begin{thm}{Exercise}\label{ex:cbb-geod-overlap}
Assume $\spc{L}$ is a complete length $\Alex{}$ space, and $[px]$, $[py]$ be two geodesics  in the same geodesic direction $\xi\in \Sigma'_p$.
Show that 
\[[px]\subset [py]\quad \text{or}\quad [px]\supset [py].\]

\end{thm}


\begin{thm}{Angle-sidelength  monotonicity}\label{cor:monoton} 
Let $\spc{L}$ be a complete length $\Alex{\kappa}$ space,
$p,x,y\in \spc{L}$,
$\modtrig\kappa(p x y)$ is defined
and there is a geodesic $[xy]$.
Then for $\bar y\in\mathopen{]}xy]$ the function 
\[\dist{x}{\bar y}{}\mapsto \angk\kappa x p{\bar y}\] 
is nonincreasing.

In particular, if a geodesic $[x p]$ exists and $\bar p\in \mathopen{]}x p]$, then
\begin{subthm}{cor:monoton:2-sides}
the function 
\[(\dist{x}{\bar y}{},\dist{x}{\bar p}{})\mapsto \angk\kappa x {\bar p}{\bar y}\] is nonincresing in each argument
\end{subthm}
 
\begin{subthm}{cor:monoton:sup}
The angle $\mangle\hinge{x}{p}{y}$ is defined and 
\[\mangle\hinge{x}{p}{y}
=
\sup\set{\angk\kappa x {\bar p}{\bar y}}{
\bar p\in\mathopen{]}xp],\ 
\bar y\in\mathopen{]}xy]}.\]

\end{subthm}
\end{thm}

The proof is contained in the first part of (\ref{SHORT.2-sum})$+$(\ref{SHORT.point-on-side})$\Rightarrow$(\ref{SHORT.angle}) of Theorem~\ref{thm:defs_of_alex}.

\begin{thm}{Exercise}\label{ex:equality-alexlemma} 
Let $\spc{L}$ be a complete length $\Alex{\kappa}$ space,
$p,x,y\in \spc{L}$
and $v,w\in \mathopen{]}xy\mathclose{[}$.
Prove that  
\[
\angk\kappa xyp=\angk\kappa xvp
\quad \iff\quad 
\angk\kappa xyp=\angk\kappa xwp.
\]

\end{thm}

\begin{thm}{Advanced exercise} \label{ex:urysohn}
Construct a geodesic space $\spc{X}$ that is not $\Alex0$, 
but meets the following condition: for any 3 points $p,x,y\in \spc{X}$ there is a geodesic $[x y]$ such that for any $z\in \mathopen{]}x y\mathclose{[}$
\[\angk{0}{z}{p}{x}+\angk{0}{z}{p}{y}
\le
\pi.\]
\end{thm}

\begin{thm}{Advanced exercise}\label{ex:lebedeva-petrunin}
Let $\spc{L}$ be a complete length space such that for any quadrouple $p,x,y,z\in\spc{L}$ 
the following inequality holds
\[\dist[2]{p}{x}{}+\dist[2]{p}{y}{}+\dist[2]{p}{z}{}
\ge
\tfrac13\cdot
\left[
\dist[2]{x}{y}{}+\dist[2]{y}{z}{}+\dist[2]{z}{x}{}
\right].\eqlbl{eq:berg-nikolaev}\]
Prove that $\spc{L}$ is $\Alex0$.

Construct a 4-point metric space $\spc{X}$ that satisfies inequality \ref{eq:berg-nikolaev} for any relabeling of its points by $p,x,y,z$, such that $\spc{X}$ is not $\Alex{0}$.
\end{thm}

Assume that for a given triangle $\trig{x^1}{x^2}{x^3}$ in a metric space its $\kappa$-model triangle
$\trig{\tilde x^1}{\tilde x^2}{\tilde x^3}=\modtrig\kappa({x^1}{x^2}{x^3})$ is defined.
We say the triangle $\trig{x^1}{x^2}{x^3}$ is \index{$\kappa$-fat}\emph{$\kappa$-fat} if the natural map (see definition \ref{def:k-thin}) 
$\trig{\tilde x^1}{\tilde x^2}{\tilde x^3}\to \trig{x^1}{x^2}{x^3}$ is distance non contracting.

\begin{thm}{Exercise}\label{ex:fat-triangle}
Prove that any triangle with perimeter $<\varpi\kappa$ 
in a $\Alex{\kappa}$ space is $\kappa$-fat.
\end{thm}

The following exercise is inspired by Busemann's definition in \cite{busemann-CBA}. 

\begin{thm}{Exercise}\label{ex:busemann}

\begin{subthm}{}
Show that any $\Alex0$ space $\spc{L}$ satisfies the following condition:
for any three points $p,q,r\in \spc{L}$, if $\bar q$ and $\bar r$ are midpoints of geodesics $[p q]$ and $[p r]$ respectively, then $2\cdot\dist[{{}}]{\bar q}{\bar r}{}\ge\dist{q}{r}{}$.
\end{subthm}

\begin{subthm}{} Show that there is a metric on $\RR^2$ defined by a norm that satisfies the above condition, but is not $\Alex0$.
\end{subthm}

\end{thm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Function comparison} \label{sec:func-comp-CBB}

In this section we will translate the angle comparison definitions (Theorem~\ref{thm:defs_of_alex}) 
to a concavity-like property of the distance functions as defined in Section~\ref{sec:conv-fun}.
This a conceptual step ---
we reformulate a global geometric condition into an infinitesimal condition on distance functions.


\begin{thm}{Theorem}\label{thm:conc} 
Let $\spc{L}$ be a complete length space. 
Then the following 
statements are equivalent:

\begin{subthm}{main-def'} $\spc{L}$ is $\Alex\kappa$.
\end{subthm}

\begin{subthm}{comp-kappa}(function comparison\index{comparison!function comparison}) $\spc{L}$ is  G-delta geodesic and for any $p\in \spc{L}$, the function $f=\md\kappa\circ\distfun{p}{}{}$ satisfies the differential inequality
\[f''\le 1-\kappa\cdot f.\]
in $\oBall(p,\varpi\kappa)$.
\end{subthm}
\end{thm}

In particular, a complete G-delta geodesic space $\spc{L}$ is $\Alex{0}$ if and only if for any $p\in \spc{L}$, the function $\distfun[2]{p}{}{}\:\spc{L}\to\RR$ 
is $2$-concave as defined in Section~\ref{sec:conv-fun}.

\parit{Proof.} 
Let $[x y]$ be a geodesic in $\oBall(p,\varpi\kappa)$ and $\ell=\dist{x}{y}{}$.
Consider the model triangle $\trig{\tilde p}{\tilde x}{\tilde y}=\modtrig\kappa(p x y)$.
Set \begin{align*} 
\tilde r(t)&=\dist{\tilde p}{\geod_{[\tilde x\tilde y]}(t)}{},
& 
r(t)&=\dist{p}{\geod_{[xy]}(t)}{}.                           \end{align*}
Clearly $\tilde r(0)=r(0)$ and $\tilde r(\ell)=r(\ell)$. 
Set $\tilde f=\md\kappa\circ\tilde r$ and $f=\md\kappa\circ r$.
From \ref{md-diff-eq} we get that $\tilde f''=1-\kappa\cdot  \tilde f$.

Note that the point-on-side comparison (\ref{point-on-side}) for point $p$ and geodesic $[x y]$ is equivalent to $\tilde r\le r$.
Since $\md\kappa$ is increasing on $[0,\varpi\kappa)$, 
$\tilde r\le r$ is equivalent to $\tilde f\le f$.
The latter is the Jensen's inequality (\ref{y''-mono}) for the function
$t\mapsto\md\kappa\dist[{{}}]{p}{\geod_{[x y]}(t)}{}$ on the interval $[0,\ell]$. 
Hence the result.
\qeds

Recall that Busemann functions are defined in Proposition \ref{prop:busemann}.
Compare the following exercise to Exercise~\ref{ex:busemann-CBA}.

\begin{thm}{Exercise}\label{ex:busemann-CBB}
{\sloppy 
Let $\spc{L}$ be a complete length $\Alex{\kappa}$ space
and $\bus_\gamma\:\spc{L}\to \RR$ be the Busemann function for a half-line $\gamma\:[0,\infty)\to \spc{L}$.

}

\begin{subthm}{}
If $\kappa=0$, then the Busemann function $\bus_\gamma$ is  concave.
\end{subthm}

\begin{subthm}{}
If $\kappa=-1$, then the function 
\[f=\exp\circ\bus_\gamma\] 
satisfies
\[f''- f\le 0\]
\end{subthm}

\end{thm}

\section{Development}

In this section we reformulate the function comparison using a more geometric language based on the definition of development given below.

This definition appears in \cite{alexandrov:devel}
and an earlier form of it can be found in \cite{liberman}.
The definition is somewhat lengthy, but it defines a useful comparison object for a curve. 
Often it is easier to write proofs in terms of function comparison,
but think in terms of developments.

\begin{thm}{Lemma-definition}\label{lem:devel}\label{def:devel}
Let $\kappa\in \RR$, 
$\spc{X}$ be a metric space, 
$\gamma\:\II\to \spc{X}$ be a $1$-Lipschitz curve,
$p\in \spc{X}$,
$\tilde p\in\Lob2{\kappa}$.
Assume $0<\dist{p}{\gamma(t)}{} < \varpi\kappa$ for
all $t\in \II$.
Then there exists a unique up to rotation curve
$\tilde \gamma\: \II\to \Lob2\kappa$, parametrized by arc-length, 
such that
$\dist{\tilde p}{\tilde \gamma(t)}{}\z=\dist{p}{\gamma(t)}{}$ for all $t$
and the direction of
$[\tilde p\tilde \gamma(t)]$ monotonically turns around $\tilde p$ counterclockwise as $t$ increases.

\smallskip

If $p,\tilde p,\gamma,\tilde \gamma$ are as above,
then $\tilde \gamma$ is called the \index{development}\emph{$\kappa$-development of $\gamma$
with respect to $p$}; 
the point $\tilde p$ is called \index{base of development}\emph{the basepoint of the development}.
When we say that the $\kappa$-development of $\gamma$ with respect to $p$ is {}\emph{defined} we always assume that $0<\dist{p}{\gamma(t)}{} < \varpi\kappa$ for
all 
$t\in \II$.
\end{thm}

\parit{Proof.}
Consider the functions $\rho$, $\theta\:\II\to\RR$ defined as 
\begin{align*}
\rho(t)
&=\dist{p}{\gamma(t)}{},
&
\theta(t)
&=
\int\limits_{t_0}^{t}
\frac{\sqrt{1-(\rho'(\under{t}))^2}}{\sn\kappa\circ\rho(\under{t})}\cdot\dd\under{t},
%??? V: I really hate the variable $\dd\under{t}$. Can we please change not use it? Not just here but anywhere. Unnecessarily weird notations like this one just make the book harder to read???
\end{align*}
where $t_0\in\II$ is a fixed number and $\int$  denotes Lebesgue integral.
Since $\gamma$ is $1$-Lipshitz, so is $\rho(t)$, and thus the function $\theta$ is defined and nondecreasing.

It is straightforward to check that $(\rho,\theta)$ uniquely describe $\tilde \gamma$ in polar coordinates on $\Lob2{\kappa}$ with center at $\tilde p$.
\qeds

We need the following analogues of sub- and super-graphs %??? change to epi- hypo???
%I like sub- and super-, both are from Latin.  epi is from Greek. S.
 and convex/concave functions, adapted to polar coordinates in $\Lob2{\kappa}$.

\begin{wrapfigure}{o}{38 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-810}
\end{wrapfigure}

\begin{thm}{Definition}\label{def:convex-devel}
Let $\tilde \gamma\:\II\to\Lob2\kappa$ be a curve and $\tilde p\in\Lob2\kappa$ be such that there is a unique geodesic $[\tilde p\,\tilde \gamma(t)]$ for any $t\in\II$ and the direction of $[\tilde p\,\tilde \gamma(t)]$ turns monotonically as $t$ grows.

The set formed by all geodesics from  $\tilde p$ to the points on $\tilde \gamma$ is called the \index{subgraph of development}\emph{subgraph} of $\tilde \gamma$ with respect to $\tilde p$.

The set of all points $\tilde x\in\Lob2{\kappa}$ such that a geodesic $[\tilde p\tilde x]$ intersects $\tilde \gamma$ is called the \index{supergraph of development}\emph{supergraph} of $\tilde \gamma$ with respect to $\tilde p$.

The curve $\tilde \gamma$ is called \index{convex!convex with respect to a point}\emph{convex (concave) with respect to} $\tilde p$ if the subgraph (supergraph) of $\tilde \gamma$ with respect to $\tilde p$ is convex.

The curve $\tilde \gamma$ is called 
\emph{locally convex (concave) with respect to}\index{convex!locally convex development with respect to a point} $\tilde p$ 
if for any interior value $t_0$ in $\II$ there is a subsegment $(a,b)\subset\II$, $(a,b)\z\ni t_0$, such that the restriction $\tilde \gamma|_{(a,b)}$ is convex (concave) with respect to $\tilde p$.
\end{thm}

Note that if $\kappa>0$, then the supergraph of a curve is the subgraph with respect to the opposite point. 

For developments,
all the notions above will be considered with respect to their basepoints.
In particular, if $\tilde \gamma$ is a development, we will say it is \index{convex development}\emph{(locally) convex} if it is (locally) convex with respect to its basepoint.


{\sloppy 

\begin{thm}{Development comparison\index{comparison!development comparison}}\label{thm:devel} 
A complete G-delta geodesic space
$\spc{L}$ is $\Alex\kappa$ if and only if for any point $p\in \spc{L}$ and any geodesic $\gamma$ in $\oBall(p,\varpi\kappa)\backslash\{p\}$, 
its $\kappa$-development with respect to $p$ is convex.
\end{thm}

}



A simpler proof of the``only-if''-part can be built on the adjacent angle comparison (\ref{2-sum}).
We use a longer proof since it also implies the short hinge lemma (\ref{lem:devel-glob}).

\parit{Proof; ``only-if''-part.}  
Let $\gamma\:[0,T]\to \oBall(p,\varpi\kappa)\backslash \{p\}$ be a unit-speed geodesic in $\spc{L}$.

Consider a fine partition 
\[0=t_0<t_1<\dots<t_n=T.\]
Set $x_i=\gamma(t_i)$ and choose a point 
\[p'\in \Str(x_0,x_1,\dots,x_n)\] 
sufficiently close to $p$;
so geodesics $[p'x_i]$ exist for all $i$.


{\sloppy 

Let us construct a chain of model triangles 
$\trig{\tilde p'}{\tilde x_{i-1}}{\tilde x_i}\z=\modtrig\kappa(p' x_{i-1}x_i)$ in such a way that direction $[\tilde p'\tilde x_i]$ turns counterclockwise as $i$ grows.
By hinge comparison (\ref{angle}), we have
\[\begin{aligned}
\mangle\hinge {\tilde x_i}{\tilde x_{i-1}}{\tilde p'}
+\mangle\hinge{\tilde x_i}{\tilde x_{i+1}}{\tilde p'}
&=
\angk\kappa{x_i}{x_{i-1}}{p'}
+\angk\kappa{x_i}{x_{i+1}}{p'}
\le
\\
&\le
\mangle\hinge{x_i}{x_{i-1}}{p'}
+\mangle\hinge{x_i}{x_{i+1}}{p'}
\le
\\
&\le
\pi.
\end{aligned}
\eqlbl{eq:thm:devel*}
\]

}

\begin{wrapfigure}{r}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-815}
\end{wrapfigure}

Further, since $\gamma$ is a unit-speed geodesic, we have that 
\[\sum_{i=1}^n\dist{x_{i-1}}{x_i}{}\le \dist{p'}{x_0}{}+\dist{p'}{x_n}{}.\eqlbl{eq:thm:detr*}\]
Since $\gamma$ does not pass through $p'$, the comparison implies that the polygonal line $\tilde x_0\dots\tilde x_n$ does not pass through $\tilde p'$.

If $\kappa\le 0$, then \ref{eq:thm:detr*} implies that
\[\theta\df
\sum_{i=1}^n\mangle\hinge{\tilde p'}{\tilde x_i}{\tilde x_{i-1}}\le\pi.
\eqlbl{eq:thm:devel**}\]

In the case $\kappa>0$, the proof of \ref{eq:thm:devel**} requires more work.
Applying rescaling, we can assume that $\kappa=1$.
Since $\gamma\in B_\pi(p')$, point-on-side comparison implies that the polygonal line $\tilde x_0\dots\tilde x_n$ can not pass through the antipodal point of $\tilde p'$.

{\sloppy

Consider the space $L$ glued from the model triangles $\trig{\tilde p'}{\tilde x_{0}}{\tilde x_1},\z\dots,\trig{\tilde p'}{\tilde x_{n-1}}{\tilde x_n}$ along the corresponding sides.
Note that $\theta$ is the total angle of $L$ at $\tilde p'$.
We can assume that $L$ has non empty interior.
Otherwise all the triangles are degenerate and
since the polygonal line $\tilde x_0\dots\tilde x_n$ does not pass through $\tilde p'$ this implies that $\theta=0$.
%???+PIC

}

Consider a minimizing geodesic $[\tilde x_0\tilde x_n]_L$.
By \ref{eq:thm:detr*} we may assume that $[\tilde x_0\tilde x_n]_L$ does not pass through $\tilde p'$.
Further if the geodesic $[\tilde x_0\tilde x_n]_L$ contains one of the points
$\tilde x_1,\dots,\tilde x_{n-1}$, then it coincides with the polygonal line $\tilde x_0\dots\tilde x_n$.
(In particular we have equality in \ref{eq:thm:devel*} for each~$i$.)
In this case the sum in the left-hand side of \ref{eq:thm:detr*} must be at most $\pi$; otherwise $[\tilde x_0\tilde x_n]_L$ is not minimizing.
Therefore \ref{eq:thm:devel**} follows.
In the remaining case $[\tilde x_0\tilde x_n]_L$ meets the boundary of $L$ only at its ends.
In this case $\dist{\tilde x_0}{\tilde x_n}{L}\le \pi$; otherwise $[\tilde x_0\tilde x_n]_L$ is not minimizing.
Whence \ref{eq:thm:devel**} follows.

Inequalities \ref{eq:thm:devel*} and \ref{eq:thm:devel**} imply that the polygon $[\tilde p'\tilde x_0\tilde x_1\dots \tilde x_n]$ is convex.

Let us take finer and finer partitions and pass to the limit of the polygon $\tilde p'\tilde x_0\tilde x_1\dots \tilde x_n$ as $p'\to p$.
We obtain a convex curvelinear triangle formed by a curve $\tilde \gamma\:[0,T]\to\Lob2{\kappa}$ --- the limit of broken line $\tilde x_0\tilde x_1\dots \tilde x_n$ 
and two geodesics $[\tilde p'\,\tilde \gamma(0)]$,
$[\tilde p'\,\tilde \gamma(T)]$.
Since $[\tilde p'\tilde x_0\tilde x_1\dots \tilde x_n]$ is convex,
 the natural parametrization of $\tilde x_0\tilde x_1\dots \tilde x_n$ 
converges to the natural parametrization of $\tilde \gamma$. % ???(see \ref{lem:lenght-of-convex-curve}). ??? V:: what is this reference? Some explanation or reference is needed here.
Thus $\tilde \gamma$ is the $\kappa$-development of $\gamma$ with respect to $p$. This proves the "only-if" part of \eqref{thm:devel}.

\noi{($\Leftarrow$).}
Assuming convexity of the development, we will prove the point-on-side comparison (\ref{point-on-side}). 
We can assume that $p\notin [x y]$; otherwise the statement is trivial.

Set $T=\dist{x}{y}{}$ and $\gamma(t)=\geod_{[x y]}(t)$; note that $\gamma$ is a geodesic in $\oBall(p,\varpi\kappa)\backslash \{p\}$.
Let $\tilde \gamma\:[0,T]\to\Lob2\kappa$ be the $\kappa$-development with base $\tilde p$ of $\gamma$ with respect to $p$.
Take a partition $0=t_0<t_1<\dots<t_n=T$ and set 
\[\tilde y_i=\tilde \gamma(t_i)\quad \text{and}\quad \tau_i=\dist{\tilde y_0}{\tilde y_1}{}+\dist{\tilde y_1}{\tilde y_2}{}+\dots+\dist{\tilde y_{i-1}}{\tilde y_i}{}.\] 
Since $\tilde \gamma$ is convex, for a fine partition we have that broken line $\tilde y_0\tilde y_1\dots\tilde y_n$ is also convex.
Applying Alexandrov's lemma (\ref{lem:alex}) inductively to pairs of model triangles 
\[\modtrig\kappa
\{\tau_{i-1},\dist{\tilde p}{\tilde y_0}{},\dist{\tilde p}{\tilde y_{i-1}}{}\}
\]
and 
\[\modtrig\kappa
\{\dist{\tilde y_{i-1}}{\tilde y_i}{},\dist{\tilde p}{\tilde y_{i-1}}{},\dist{\tilde p}{\tilde y_{i}}{}\}\]
we obtain that the sequence 
$\tilde \mangle\mc\kappa\{\dist{\tilde p}{\tilde y_{i}}{};\dist{\tilde p}{\tilde y_0}{},\tau_i\}$ is non increasing.

For finer and finer partitions we have 
\[\max\nolimits_i\{|\tau_i-t_i|\}\to0.\] 
Thus, point-on-side comparison (\ref{point-on-side}) follows.
\qeds

Note that in the proof of  ``if''-part we could use a slightly weaker version of the hinge comparison (\ref{angle}).
Namely we proved the following lemma which will be needed later in the proof of the globalization theorem (\ref{thm:glob}).

\begin{thm}{Short hinge lemma}\label{lem:devel-glob}
Let $\spc{L}$ be a complete G-delta geodesic space such that for any hinge $\hinge x p y$ in $\spc{L}$ the angle $\mangle\hinge x p y$ is defined 
and moreover, if $x\in \mathopen{]}y z\mathclose{[}$, then
\[\mangle\hinge x p y+\mangle\hinge x p z\le \pi.\] 

Assume that  for any hinge $\hinge x p y$ in $\spc{L}$ we have
\[\dist{p}{ x}{}+\dist{x}{ y}{}
<\varpi\kappa
\quad\Rightarrow\quad 
\mangle\hinge x p y
\ge\angk\kappa x p y.\]
Then $\spc{L}$ is $\Alex\kappa$.
\end{thm}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Local definitions and globalization}\label{sec:loc}


In this section we discuss locally $\Alex{\kappa}$ spaces; 
in particular, we prove the {}\emph{globalization theorem} --- equivalence of local and global definitions for complete length spaces.

The following theorem summarizes equivalent definitions of locally $\Alex{\kappa}$ spaces

\begin{thm}{Theorem}\label{thm:=def-loc}
Let $\spc{X}$ be a complete length space and $p\in \spc{X}$.
Then the following conditions are equivalent:
\begin{subthmN}
{curv>=k}(local $\Alex\kappa$ comparison) there is $R_{\hbox{\rm\scriptsize\ref{SHORT.curv>=k}}}>0$ such that comparison 
\[\angk\kappa q{x^1}{x^2}
+\angk\kappa q{x^2}{x^3}
+\angk\kappa q{x^3}{x^1}
\le 2\cdot\pi\]
holds for any $q,x^1,x^2,x^3\in \oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.curv>=k}}})$.
\end{subthmN}

\begin{subthmN}{def:kirszbraun-loc}(local Kirszbraun property) 
there is $R_{\hbox{\rm\scriptsize\ref{SHORT.def:kirszbraun-loc}}}>0$, 
such that for any 3-point subset $F_3$ and any 4-point subset $F_4\supset F_3$ in $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.def:kirszbraun-loc}}})$, any short map $f\:F_3\to\Lob2\kappa$ can be extended as a short map $\bar f\:F_4\to\Lob2\kappa$ (so $f=\bar f|_{F_3}$).
\end{subthmN}

\begin{subthmN}{conc-loc} (local function comparison) there is 
$R_{\hbox{\rm\scriptsize\ref{SHORT.conc-loc}}}>0$, such that 
$\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.conc-loc}}})$ 
is G-delta geodesic and for any 
$q\in \oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.conc-loc}}})$, 
the function $f=\md\kappa\circ\distfun{q}{}{}$ satisfies 
$f''\le 1-\kappa\cdot  f$ in
$\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.conc-loc}}})$.
\end{subthmN}

\begin{subthmN}{2-sum-loc} (local adjacent angle comparison) there is
$R_{\hbox{\rm\scriptsize\ref{SHORT.2-sum-loc}}}>0$ 
such that $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.2-sum-loc}}})$ 
is G-delta geodesic and if $q$ and a geodesic $[x y]$ lie in
$\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.2-sum-loc}}})$ 
and $z\in \mathopen{]}x y\mathclose{[}$, then
\[\angk\kappa z q x
+\angk\kappa z q y
\le \pi.\]
\end{subthmN}

\begin{subthmN}{monoton-loc} (local point-on-side comparison) 
there is $R_{\hbox{\rm\scriptsize\ref{SHORT.monoton-loc}}}>0$, 
such that $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.monoton-loc}}})$ is G-delta geodesic and if $q$ and a geodesic $[x y]$ lie in $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.monoton-loc}}})$ 
and $z\in \mathopen{]}x y\mathclose{[}$, we have
\[\angk\kappa x q y
\le\angk\kappa x q z;\]
or, equivalently, 
\[\dist{\tilde p}{\tilde z}{}\le \dist{p}{z}{},\]
where $\trig{\tilde p}{\tilde x}{\tilde y}=\modtrig\kappa(p x y)$, $\tilde z\in\mathopen{]} \tilde x\tilde y\mathclose{[}$, $\dist{\tilde x}{\tilde z}{}=\dist{x}{z}{}$.
\end{subthmN}

\begin{subthmN}{angle-loc} (local hinge comparison) 
there is $R_{\hbox{\rm\scriptsize\ref{SHORT.angle-loc}}}>0$, such that $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.angle-loc}}})$ is G-delta geodesic and if $x\in \oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.angle-loc}}})$, then 

(1) for any hinge $\hinge x q y$, the angle 
$\mangle\hinge x q y$ is defined and

 (2) if $x\in \mathopen{]}y z\mathclose{[}$, then%
\footnote{Let us call that $\hinge x q y$ and $\hinge x q z$  are short notations for the pairs $([x q],[x y])$ and $([x q],[x z])$, 
thus these two hinges automatically have common side $[x q]$.}
\[\mangle\hinge x q y+ \mangle\hinge x q z\le\pi.\]
Moreover, if a hinge $\hinge x q y$ lies in $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.angle-loc}}})$, then 
\[\mangle\hinge x q y
\ge\angk\kappa x q y,\]
or, equivalently,
\[\side\kappa \hinge x q y\ge\dist{q}{ y}{}.\]
\end{subthmN}


\begin{subthmN}{def:devel-alex-loc}(local development comparison) 
there is $R_{\hbox{\rm\scriptsize\ref{SHORT.def:devel-alex-loc}}}>0$, 
such that $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.def:devel-alex-loc}}})$ 
is G-delta geodesic and if a geodesic $\gamma$ lies in $\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.def:devel-alex-loc}}})$ and $q\in 
\oBall(p,R_{\hbox{\rm\scriptsize\ref{SHORT.def:devel-alex-loc}}})
\backslash \gamma$, then the $\kappa$-development $\tilde \gamma$ with respect to $q$ is convex.
\end{subthmN}
Moreover, for each pair $i,j\in \{1,2,\dots,7\}$ we can assume that 
\[R_i>\tfrac{1}{9}\cdot R_j.\]
\end{thm}

The proofs of each of these equivalence repeat the proofs of the corresponding global equivalences in localized form; see the proofs of theorems \ref{thm:defs_of_alex}, \ref{thm:conc}, \ref{def:devel}, \ref{thm:kirsz-def}.


\begin{thm}{Globalization theorem}\label{thm:glob} 
Any complete length locally $\Alex\kappa$ space is $\Alex\kappa$.
\end{thm}

{\sloppy

In the two-dimensional case this theorem was proved by Paolo Pizzetti \cite{pizzetti};
later it was reproved independently by Alexandr Alexandrov \cite{alexandrov:devel}.%???is it right ref???
Victor Toponogov \cite{toponogov-globalization+splitting} proved it for Riemannian manifolds of all dimensions.
In the above generality, the theorem first appears in the paper of Mikhael Gromov, Yuri Burago and Grigory Perelman \cite{burago-gromov-perelman}; 
simplifications and modifications were given by Conrad Plaut \cite{plaut:dimension}, Katsuhiro Shiohama \cite{shiohama} and in the book of Dmitry Burago, Yuri Burago and Sergei Ivanov \cite{burago-burago-ivanov}.
A generalization for non-complete but geodesic spaces was obtained by the third author \cite{petrunin:globalization}; namely it solves the following exercise:

}

\begin{thm}{Advanced exercise}\label{ex:noncomplete-globalization}
Assume $\spc{X}$ is a geodesic locally  $\Alex\kappa$ space. 
Prove that the completion of $\spc{X}$ is $\Alex\kappa$.
\end{thm}

Our proof, is based on presentations in \cite{plaut:dimension} and \cite{burago-burago-ivanov};
this proof was rediscovered independently by Urs Lang and Viktor Schroeder \cite{lang-schroeder:globalization}.

The following corollary says that the expression ``space with curvature $\ge \kappa$'' makes sense.

\begin{thm}{Corollary}\label{cor:CAT>k-sence}
Let $\spc{L}$ be a complete length space.
Then $\spc{L}$ is $\Alex\Kappa$ if and only if $\spc{L}$ is $\Alex\kappa$ for any $\kappa<\Kappa$.
\end{thm}

\parit{Proof.}
Note that if $\Kappa\le 0$, this statement follows directly from the  definition of an Alexandrov space (\ref{df:cbb1+3}) and monotonicity of the function $\kappa\mapsto\angk\kappa x y z$ (\ref{k-decrease}).

The ``if''-part also follows directly from the definition.

For $\Kappa>0$, the angle $\angk{\Kappa} x y z$ might be undefined while $\angk{\kappa} x y z$ is defined.
However, $\angk{\Kappa} x y z$ is defined if $x$, $y$ and $z$ are sufficiently close to each other.
Thus, if $\Kappa>\kappa$, then any $\Alex\Kappa$ space is locally $\Alex\kappa$.
It remains to apply the  globalization theorem (\ref{thm:glob}).
\qeds

\begin{thm}{Corollary}\label{cor:submetry-cbb}
Let $\spc{L}$ be a complete length $\Alex\kappa$ space.
Assume that a space  $\spc{M}$ is a target space of a submetry from $\spc{L}$.
Then $\spc{M}$ is a complete length space $\Alex\kappa$ space.

In particular, if $G\acts \spc{L}$ an isometric group action with closed orbits, then the quotient space $\spc{L}/G$ is a complete length space $\Alex\kappa$ space.
\end{thm}

\parit{Proof.}
This follows from the globalization theorem and Theorem \ref{thm:submetry-CBB}.
\qeds

In the proof of the globalization theorem 
we will use three lemmas.
First is the short hinge lemma (\ref{lem:devel-glob}) --- it gives a characterization of $\Alex\kappa$ spaces which is the same as the hinge comparison \ref{angle} if $\kappa\le 0$ and is slightly weaker in case $\kappa>0$.


The following lemma says that if comparison holds for all small hinges, then it holds for slightly bigger hinges near the given point.

\begin{thm}{Key lemma}\label{key-lem:globalization} 
Let $\kappa\in \RR$, 
$0<\ell\le\varpi\kappa$, 
$\spc{X}$ be a complete geodesic space 
and $p\in \spc{X}$ be a point 
such that $\oBall(p,2\cdot\ell)$ is locally $\Alex\kappa$. 

Assume that for any point 
$q\in \oBall(p,{\ell})$ the comparison
\[\mangle\hinge x y q
\ge\angk\kappa x y q\]
holds for any hinge $\hinge x y q$ with 
$\dist{x}{y}{}+\dist{x}{q}{}
<
\frac{2}{3}\cdot\ell$.
Then the comparison
\[\mangle\hinge x p q
\ge\angk\kappa x p q\] 
holds for any hinge $\hinge x p q$ with $\dist{x}{ p}{}+\dist{x}{q}{}<\ell$.
\end{thm}

\begin{wrapfigure}{r}{30 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-820}
\end{wrapfigure}

\parit{Proof.} 
We will prove an equivalent inequality:
\[\side\kappa \hinge x p q
\ge\dist{p}{q}{}.\eqlbl{eq:thm:=def-loc*}\] 
for any hinge $\hinge x p q$ with $\dist{x}{p}{}+\dist{x}{q}{}<\ell$.

Fix $q$.
Consider a hinge $\hinge x p q$ such that 
\[\tfrac{2}{3}\cdot\ell \le\dist{p}{x}{}\z+\dist{x}{q}{}< \ell.\]
Let us construct a new smaller hinge $\hinge{x'}p q$; that is,
\[
\dist{p}{x}{}+\dist{x}{q}{}\ge\dist{p}{x'}{}+\dist{x'}{q}{}
\eqlbl{eq:thm:=def-loc-fourstar}\]
and such that 
\[\side\kappa \hinge x p q
\ge\side\kappa \hinge{x'}p q.
\eqlbl{eq:thm:=def-loc-fivestar}\]

%\parit{Construction of $\hinge{x'}p q$.}
Assume $\dist{x}{q}{}\ge\dist{x}{p}{}$, otherwise switch the roles of $p$ and $q$ in the following construction.
Take $x'\in [x q]$ such that 
\[\dist{p}{x}{}+3\cdot\dist[{{}}]{x}{x'}{}
=\tfrac{2}{3}\cdot\ell \eqlbl{3|xx'|}\]
Choose a geodesic $[x' p]$ and consider the  hinge $\hinge{x'}p q$ fromed by $[x'p]$ and $[x' q]\subset [x q]$. 
(In fact the same argument as in \ref{thm:g-split} shows that the 
condition $[x' q]\subset [x q]$ always holds.)
Then \ref{eq:thm:=def-loc-fourstar} follows from the triangle inequality.

Further, note that we have $x,x'\in \oBall(p,\ell)\cap \oBall(q,\ell)$ and moreover
$\dist{p}{x}{}\z+\dist{x}{x'}{},\dist{p}{x'}{}\z+\dist{x'}{x}{}<\tfrac{2}{3}\cdot\ell $.
In particular, 

\[\mangle\hinge x p{x'}
\ge\angk\kappa x p{x'}
\quad \text{and}\quad 
\mangle\hinge {x'}p x
\ge\angk\kappa {x'}p x.
\eqlbl{eq:thm:=def-loc-threestar}\]


Now, let 
$\trig{\tilde x}{\tilde x'}{\tilde p}=\modtrig\kappa(x x' p)$.
Take $\tilde  q$ on the extension of $[\tilde  x\tilde  x']$ beyond $x'$ such that $\dist{\tilde x}{\tilde q}{}=\dist{x}{q}{}$ (and therefore $\dist{\tilde x'}{\tilde q}{}=\dist{x'}{q}{}$).
From \ref{eq:thm:=def-loc-threestar},
\[\mangle\hinge x p q
=\mangle\hinge  x p{x'}\ge\angk\kappa x p{x'}\quad \Rightarrow\quad 
\side\kappa \hinge x q p\ge\dist{\tilde p}{\tilde q}{}.\]
From the assumptions of the lemma, we have $\mangle\hinge{x'}p x+\mangle\hinge{x'}p q\le \pi$; 
thus \ref{eq:thm:=def-loc-threestar} implies
\[
\pi
-\angk\kappa{x'}p x
\ge
\pi-\mangle\hinge{x'}p x
\ge
\mangle\hinge{x'}p q.
\]
Therefore
$\dist{\tilde p}{\tilde q}{}\ge\side\kappa \hinge{x'}q p$ and \ref{eq:thm:=def-loc-fivestar} follows.

\begin{figure}[h!]
\centering
\includegraphics{mppics/pic-825}
\end{figure}

%%%??? WE SHOULD MENTION cat's cradle.
Let us continue the proof.
Set $x_0=x$.
Let us apply inductively the above construction to get a sequence of hinges  $\hinge{x_n}p q$ with $x_{n+1}=x_n'$.

The sequence might terminate at some $n$ only if $\dist{p}{x_n}{}+\dist{x_n}{q}{}\z< \tfrac{2}{3}\cdot\ell $.
In this case, by the assumptions of the lemma, $\side\kappa \hinge{x_n}p q\ge\dist{p}{q}{}$.
From \ref{eq:thm:=def-loc-fivestar}, we get that the sequence  $s_n\z=\side\kappa \hinge{x_n}p q$ is decreasing.
Hence inequality \ref{eq:thm:=def-loc*} follows.

Otherwise, the sequence $r_n=\dist{p}{x_n}{}+\dist{x_n}{q}{}$ is nonincreasing and $r_n\ge\tfrac{2}{3}\cdot\ell$ for all $n$. Hence $r_n\to r$ as $n\to\infty$.
Pass to a subsequence $y_\kay=x_{n_\kay}$ such that $y_\kay'=x_{n_\kay+1}\in [y_\kay q]$.
(In particular, $\dist{y_\kay}{q}{}\ge\dist{y_\kay}{p}{}$.)
Clearly, \[\dist{p}{y_\kay}{}+\dist{y_\kay}{y_\kay'}{}\z-\dist{p}{y_\kay'}{}=r_\kay-r_{\kay+1}\underset{\kay\to\infty} {\to}0.
\eqlbl{trig=}\]
From \ref{3|xx'|}, 
it follows that  $\dist{y_\kay}{y'_\kay}{}\z>\tfrac{\ell}{100}$.
From \ref{3|xx'|} and \ref{trig=}, it follows that 
$\dist{p}{y_\kay}{}\z>\tfrac{\ell}{100}$
for all large $\kay$.
Therefore, $\angk\kappa{y_\kay}p{y_\kay'}\to \pi$. 
Since 
$\mangle\hinge{y_\kay}p{y_\kay'}
\ge\angk\kappa{y_\kay}p{y_\kay'}$, we have 
$\mangle\hinge{y_\kay}p q=\mangle\hinge{y_\kay}p{y_\kay'}\to \pi$.
Therefore, 
\[\dist{p}{y_\kay}{}+\dist{y_\kay}{q}{}-\side\kappa \hinge{y_\kay}p q\to 0.\] 
(Here we used that $\ell\le\varpi\kappa$.) 
Together with the triangle inequality
\[
\dist{p}{y_\kay}{}+\dist{y_\kay}{q}{}\ge\dist{p}{q}{}
\]
this yields
\[\lim_{n\to\infty}\side\kappa \hinge{y_\kay}p q\ge \dist{p}{q}{}.\]
Applying monotonicity of the sequence  $s_n=\side\kappa \hinge{y_\kay}p q$ we obtain \ref{eq:thm:=def-loc*}.
\qeds

The following lemma works in all complete spaces; it will  serve as a substitution for the  existence of a minimum point of a continuous function on a compact space.


\begin{thm}{Lemma on almost minimum}\label{lem:alm-min}
Let $\spc{X}$ be a complete metric space,
$p\in \spc{X}$
and $r\:\spc{X}\to \RR$ be a function and $\eps>0$.
Assume that the function $r$ is strictly positive in $\cBall[p,\tfrac{1}{\eps^2}\cdot r(p)]$ and
$\varliminf_{n}r(x_n)>0$ for any convergent sequence 
$x_n\to x\in \cBall[p,\tfrac{1}{\eps^2}\cdot r(p)]$. 

Then, there is a point $p^*\in \cBall[p,\tfrac{1}{\eps^2}\cdot r(p)]$ such that 

\begin{subthm}{}$r(p^*)\le r(p)$ and
\end{subthm}

\begin{subthm}{}$r(x)> (1-\eps)\cdot r(p^*)$ 
for any $x\in \cBall[p^*,\tfrac{1}{\eps}\cdot r(p^*)]$.
\end{subthm}
\end{thm}

\parit{Proof.} 
Assume the statement is wrong. 
Then for any $x\in \oBall(p,\tfrac{1}{\eps^2}\cdot r(p))$ with $r(x)\le r(p)$, there is a point $x'\in \spc{X}$ such that 
\[\dist{x}{x'}{}<\tfrac{1}\eps\cdot r(x)
\quad \text{and}\quad 
r(x')\le (1-\eps)\cdot r(x).\]
Take $x_0=p$ and consider a sequence of points $(x_n)$ such that $x_{n+1}\z=x_n'$.
Clearly 
\[\dist{x_{n+1}}{x_n}{}
\le
\tfrac{r(p)}{\eps}\cdot(1-\eps)^n
\quad \hbox{and}\quad 
r(x_n)\le r(p)\cdot(1-\eps)^n.\] 
In particular, $\dist{p}{x_n}{}<\tfrac{1}{\eps^2}\cdot r(p)$.
Therefore $(x_n)$ is Cauchy,
$x_n\to x\in \cBall[p,\tfrac{1}{\eps^2}\cdot r(p)]$
and
$\lim_{n}r(x_n)=0$, a contradiction.
\qeds




\parit{Proof of the globalization theorem (\ref{thm:glob}).} 
Exactly the same argument as in the proof of Theorem~\ref{thm:almost.geod} 
shows that $\spc{L}$ is G-delta geodesic.
By Theorem~\ref{angle-loc}, 
for any hinge $\hinge x p y$ in $\spc{L}$ the angle $\mangle\hinge x p y$ is defined 
and moreover, if $x\in \mathopen{]}y z\mathclose{[}$, then
\[\mangle\hinge x p y+\mangle\hinge x p z\le \pi.\] 

Let us denote by $\ComRad(p,\spc{L})$ 
(which stands for \index{comparison radius}\emph{comparison radius} of $\spc{L}$ at $p$) 
the maximal value (possibly $\infty$) such that the comparison 
\[\mangle\hinge x p y
\ge\angk\kappa x p y\]
holds for any hinge $\hinge x p y$ with $\dist{p}{x}{}+\dist{x}{y}{}< \ComRad(p,\spc{L})$.

As follows from \ref{conc-loc}, $\ComRad(p,\spc{L})>0$ for any $p\in\spc{L}$ and 
$$\liminf_{n\to\infty}\ComRad(p_n,\spc{L})>0$$ 
for any converging sequence of points $p_n\to p$.
That makes it possible to apply the lemma on almost minimum (\ref{lem:alm-min}) to the function $p\mapsto \ComRad(p,\spc{L})$.

According to the short hinge lemma (\ref{lem:devel-glob}), it is sufficient  to show that 
\[s_0=\inf_{p\in\spc{L}}\ComRad(p,\spc{L})
\ge \varpi\kappa\quad 
\text{for any}\quad 
p\in \spc{L}.
\eqlbl{eq:thm:=def-loc-star-star}\]
We argue by contradiction, assuming that  \ref{eq:thm:=def-loc-star-star} does not hold.

The rest of the proof is easier for geodesic spaces 
and yet easier still for compact spaces.
Thus we give three different arguments  for each of these cases.

\parit{Compact case.}
Assume $\spc{L}$ is compact.

By Theorem~\ref{conc-loc},  $s_0>0$.
Take a point $p^*\in \spc{L}$ such that $r^*\z=\ComRad(p^*,\spc{L})$ is sufficiently close to $s_0$
($p^*$ such that  $s_0\z\le r^*\z<\min\{\varpi\kappa,\tfrac32\cdot s_0\}$ will do).
Then the key lemma (\ref{key-lem:globalization}) applied for $p^*$ and $\ell$ slightly bigger than $r^*$ (say, such that $r^*<\ell<\min\{\varpi\kappa,\tfrac32\cdot s_0\}$) implies that
\[\mangle\hinge x{p^*}q
\ge\angk\kappa x{p^*}q\]
for any hinge $\hinge x{p^*}q$ such that $\dist{p^*}{x}{}+\dist{x}{q}{}<\ell$.
Thus $r^*\ge\ell$, a contradiction.

\parit{Geodesic case.}
Assume $\spc{L}$ is geodesic.

Fix a small $\eps>0$ ($\eps=0.0001$ will do). 
Apply the lemma on almost minimum (\ref{lem:alm-min}) to find a point $p^*\in \spc{L}$ such that 
\[r^*\z=\ComRad(p^*,\spc{L})\z<\varpi\kappa\] 
and 
\[\ComRad(q,\spc{L})\z> (1-\eps)\cdot r^*\eqlbl{comrad(q)}\] 
for any $q\in\cBall[p^*,\tfrac{1}{\eps}\cdot r^*]$. 

Applying the key lemma (\ref{key-lem:globalization}) for $p^*$ and  an $\ell$ slightly bigger than $r^*$ leads to a contradiction.

\parit{General case.}
Let us construct $p^*\in\spc{L}$ as in the previous case.
Since $\spc{L}$ is not geodesic, we can not apply the key lemma directly.
Instead, let us pass to the ultrapower $\spc{L}^\o$ which
 is a geodesic space (see \ref{obs:ultralimit-is-geodesic}).

According to Theorem~\ref{thm:=def-loc},
inequality \ref{comrad(q)} implies that 
condition  \ref{curv>=k} holds for some fixed $R_{\hbox{\rm\scriptsize\ref{SHORT.curv>=k}}}=\tfrac{r^*}{100}
>0$ at any point $q\in\cBall[p^*,\tfrac1{2\cdot \eps}\cdot r^*]\subset\spc{L}$.
Therefore a similar statement is true in the ultrapower $\spc{L}^\o$;
that is,
for any point
$q_\o\in\cBall[p^*,\tfrac1{2\cdot \eps}\cdot r^*]\subset\spc{L}^\o$, 
Condition~\ref{curv>=k} holds for say $R_{\hbox{\rm\scriptsize\ref{SHORT.curv>=k}}}=\tfrac{r^*}{101}$.


Note that $r^*\ge\ComRad(p^*,\spc{L}^\o)$.
Therefore we can apply the lemma on almost minimum 
at the point $p^*$ to the function $x\z\mapsto\ComRad(x,\spc{L}^\o)$
and $\eps'=\sqrt\eps=0.01$.

For the obtained point $p^{{*}{*}}\in \spc{L}^\o$, we have $r^{{*}{*}}\z=\ComRad(p^{{*}{*}},\spc{L})\z<\varpi\kappa$ 
and 
$\ComRad(q_\o,\spc{L}^\o)\z> (1-\eps')\cdot r^{{*}{*}}$ for any $q_\o\in\cBall[p^{{*}{*}},\tfrac{1}{\eps'}\cdot r^{{*}{*}}]$. 
Thus applying the key lemma (\ref{key-lem:globalization}) for $p^{{*}{*}}$ and an $\ell$ slightly bigger than $r^{{*}{*}}$ leads to a contradiction.
\qeds


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Properties of geodesics and angles}\label{sec:prop.geod}

\parbf{Remark.} 
All proofs in this section can be easily modified to use only the local definition of $\Alex{}$ spaces without use of the globalization theorem (\ref{thm:glob}).
 
\begin{thm}{Geodesics do not split}\label{thm:g-split}
In a $\Alex{}$ space, geodesics do not bifurcate.

More precisely: let $\spc{L}$ be a $\Alex{}$ space and $[p x]$, $[p y]$ be two geodesics, then
\begin{subthm}{nonsplit} If  there is an $\eps>0$, such that $\geod_{[p x]}(t)=\geod_{[p y]}(t)$ 
for all $t\in[0,\eps)$, 
then $[p x]\subset [p y]$ or $[p y]\subset [p x]$.
\end{subthm}

\begin{subthm}{angle=0}
If $\mangle\hinge p x y=0$, then $[p x]\subset [p y]$ or $[p y]\subset [p x]$.
\end{subthm}
\end{thm}

\begin{thm}{Corollary}\label{cor:unique-geod-cbb}
Let $\spc{L}$ be a $\Alex{}$ space.
Then the restriction of any geodesic in $\spc{L}$ to a proper segment is the unique minimal geodesic joining its endpoints.
\end{thm}

In case $\kappa\le 0$, the proof is easier, since the model triangles are always defined.
To deal with $\kappa>0$ we have to argue locally.

\begin{wrapfigure}{r}{25 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-830}
\end{wrapfigure}

\parit{Proof of \ref{thm:g-split}; (\ref{SHORT.nonsplit}).}
Let $t_{\max}$ be the maximal value 
such that $\geod_{[p x]}(t)=\geod_{[p y]}(t)$ for all $t\in [0,t_{\max})$.
Since geodesics are continuous $\geod_{[p x]}(t_{\max})\z=\geod_{[p y]}(t_{\max})$; 
set
\[q=\geod_{[p x]}(t_{\max})\z=\geod_{[p y]}(t_{\max}).\]
We have to show that $t_{\max}=\min\{\dist{p}{x}{},\dist{p}{y}{}\}$.

If that is not true, choose a sufficiently small $\eps>0$ such that the  points
\[x_\eps=\geod_{[p x]}(t_{\max}+\eps)\quad 
\text{and}\quad  
  y_\eps=\geod_{[p y]}(t_{\max}+\eps)\] 
are distinct.
Set
\[z_\eps=\geod_{[p x]}(t_{\max}-\eps)
=\geod_{[p y]}(t_{\max}-\eps).\]
Clearly, $\angk\kappa q{z_\eps}{x_\eps}=\angk\kappa q{z_\eps}{y_\eps}=\pi$.
Thus from $\Alex\kappa$ comparison (\ref{df:cbb1+3}), $\angk\kappa q{x_\eps}{y_\eps}=0$ and thus $x_\eps=y_\eps$, a contradiction.

\parit{(\ref{SHORT.angle=0})} From hinge comparison \ref{angle} 
\[\mangle\hinge p x y=0\quad \Rightarrow\quad \angkk\kappa p{\geod_{[p x]}(t)}{\geod_{[p y]}(t)}=0\] 
and thus ${\geod_{[p x]}(t)}={\geod_{[p y]}(t)}$ for all small $t$. 
Therefore we can apply (\ref{SHORT.nonsplit}).
\qeds

\begin{thm}{Adjacent angle lemma}\label{lem:sum=pi}
Let $\spc{L}$ be a $\Alex{}$ space.
Assume that two hinges $\hinge z x p$ and $\hinge z y p$ in $\spc{L}$ are \index{adjacent hinges}\emph{adjacent}; that is, they share a common side $[zp]$ and $z\in\mathopen{]}xy\mathclose{[}$.
Then 
\[\mangle\hinge z p y + \mangle\hinge z p x=\pi. \]

\end{thm}

\parit{Proof.}
From hinge comparison (\ref{angle}) we have that both angles 
$\mangle\hinge z p y$ and $\mangle\hinge z p x$ are defined and 
\[\mangle\hinge z p y + \mangle\hinge z p x\le\pi.\]
Clearly $\mangle\hinge z x y=\pi$.
Thus, the result follows from the triangle inequality for angles (\ref{claim:angle-3angle-inq}).
\qeds


\begin{thm}{Angle semicontinuity}\label{lem:ang.semicont-cbb}
Let $\spc{L}_n$  be a sequence of $\Alex\kappa$ spaces
% for each $n\in\NN$
 and $\spc{L}_n\to \spc{L}_\o$ as $n\to\o$.
Assume that a sequence of hinges $\hinge{p_n}{x_n}{y_n}$ in $\spc{L}_n$ converges to a hinge $\hinge{p_\o}{x_\o}{y_\o}$ in  $\spc{L}_\o$.
Then 
\[\mangle\hinge{p_\o}{x_\o}{y_\o}
\le 
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{y_n}.\]

\end{thm}

\parit{Proof.}
From \ref{cor:monoton},
\[\mangle\hinge{p_\o}{x_\o}{y_\o}
=
\sup\set{\angk\kappa{p_\o}{\bar x_\o}{\bar y_\o}}{\bar x_\o \in \mathopen{]}p_\o x_\o],\ \bar y_\o\in \mathopen{]}p_\o x_\o]}.\]

\begin{wrapfigure}{r}{25 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-835}
\end{wrapfigure}

For fixed $\bar x_\o \in \mathopen{]}p_\o x_\o]$ 
and $\bar y_\o\in \mathopen{]}p_\o x_\o]$,
choose $\bar x_n\in \mathopen{]} p x_n ]$ and $\bar y_n\in \mathopen{]} p y_n ]$ so that $\bar x_n\to \bar x_\o$ 
and $\bar y_n\to \bar y_\o$ as $n\to\o$.
Clearly 
\[\angk\kappa{p_n}{\bar x_n}{\bar y_n}
\to 
\angk\kappa{p_\o}{\bar x_\o}{\bar y_\o}\] 
as $n\to\o$.

From  hinge comparison (\ref{angle}), $\mangle\hinge{p_n}{x_n}{y_n}\ge \angk\kappa{p_n}{\bar x_n}{\bar y_n}$.
Hence the result.
\qeds

\begin{thm}{Angle continuity}\label{cor:ang.cont-cbb}
Let $\spc{L}_n$  be a sequence of complete length $\Alex\kappa$ spaces
and $\spc{L}_n\to \spc{L}_\o$ as $n\to\o$.
Assume that sequences $p_n, x_n, y_n$ in $\spc{L}_n$ 
converges respectively to the points $p_\o, x_\o, y_\o$ in  $\spc{L}_\o$
and the following two conditions hold
\begin{subthm}{}
$p_\o\in \Str(x_\o)$,
\end{subthm}
\begin{subthm}{}
$p_\o\in \Str(y_\o)$ or $y_\o\in \Str(p_\o)$.
\end{subthm}

Then 
\[\mangle\hinge{p_\o}{x_\o}{y_\o}
=
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{y_n}.\]

\end{thm}

\parit{Proof.}
By Corollary~\ref{cor:CAT>k-sence},
we may assume that $\kappa\le 0$.

By Plaut's theorem (\ref{thm:almost.geod}),
the hinge 
$\hinge{p_\o}{x_\o}{y_\o}$
is uniquely defined.
Therefore the hinges 
$\hinge{p_n}{x_n}{y_n}$
converge to  
$\hinge{p_\o}{x_\o}{y_\o}$
as $n\to\o$.
Hence by angle semicontinuity (\ref{lem:ang.semicont-cbb}), 
we get
\[
\mangle\hinge{p_\o}{x_\o}{y_\o}
\le
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{y_n}.
\]

It remains to show that 
\[
\mangle\hinge{p_\o}{x_\o}{y_\o}
\ge
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{y_n}.
\eqlbl{eq:ang-semicon->}
\]

Fix $\eps>0$.
Since $p_\o\in\Str(x_\o)$,
 there is a point $q_\o\in\spc{L}_\o$
such that 
\[\angk{\kappa}{p_\o}{x_\o}{q_\o}>\pi-\eps.\]
The hinge comparison  (\ref{angle}) implies that
\[\mangle\hinge{p_\o}{x_\o}{q_\o}>\pi-\eps.
\eqlbl{eq:>pi-eps}\]
The triangle inequality for angles
(\ref{claim:angle-3angle-inq})
\[
\begin{aligned}
\mangle\hinge{p_\o}{x_\o}{y_\o}
&\ge \mangle\hinge{p_\o}{x_\o}{q_\o}-
\mangle\hinge{p_\o}{y_\o}{q_\o}>
\\
&>\pi-\eps-
\mangle\hinge{p_\o}{y_\o}{q_\o}.
\end{aligned}
\eqlbl{eq:ang-trig}
\]

Note that we can assume in addition that $q_\o\in\Str(p_\o)$.
Choose $q_n\in\spc{L}_n$
such that $q_n\to q_\o$ as $n\to\o$.
Note that by the angle semicontinuity
 we again get
\[
\begin{aligned}
\mangle\hinge{p_\o}{x_\o}{q_\o}
&\le
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{q_n},
\\
\mangle\hinge{p_\o}{y_\o}{q_\o}
&\le
\lim_{n\to\o} \mangle\hinge{p_n}{y_n}{q_n}.
\end{aligned}
\eqlbl{eq:semicont}
\]


By $\Alex\kappa$ comparison (\ref{df:cbb1+3}) and \ref{cor:monoton:sup}, we get
\[\mangle\hinge{p_n}{x_n}{y_n}
+\mangle\hinge{p_n}{y_n}{q_n}
+\mangle\hinge{p_n}{x_n}{q_n}
\le 2\cdot\pi.\]
for all $n$.
Together with \ref{eq:semicont}, \ref{eq:>pi-eps} and \ref{eq:ang-trig}, 
it implies
\begin{align*}
\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{y_n}
&\le
2\cdot\pi-\lim_{n\to\o} \mangle\hinge{p_n}{x_n}{q_n}-\lim_{n\to\o} \mangle\hinge{p_n}{y_n}{q_n}
\le 
\\
&\le 
2\cdot\pi
-\mangle\hinge{p_\o}{x_\o}{q_\o}
-\mangle\hinge{p_\o}{y_\o}{q_\o}
<
\\
&<\mangle\hinge{p_\o}{x_\o}{y_\o}+2\cdot\eps.
\end{align*}
Since $\eps>0$ is arbitrary, \ref{eq:ang-semicon->} follows.
\qeds

%???ADDED LATER

\begin{thm}{First variation formula}\label{1st-var+}
Let $\spc{L}$ be a complete length $\Alex{}$ space.
For any point $q$ and any geodesic $[px]$ in $\spc{L}$ with $p\ne q$, we have 
\[\dist{q}{\geod_{[p x]}(t)}{}
=
\dist{q}{p}{}-t\cdot\cos\phi+o(t),
\eqlbl{eq:1st-var+*}\]
where $\phi$ is the infimum of angles between $[px]$ and all geodesics from $p$ to $q$ in the ultrapower $\spc{L}^\o$.
\end{thm}

\parbf{Remark.}
If $\spc{L}$ is a proper space, then $\spc{L}^\o=\spc{L}$, see Section~\ref{ultralimits}.
Therefore the infimum $\phi$ is achieved on some particular geodesic from $p$ to $q$.

\medskip

As a corollary we obtain the following classical  result:

\begin{thm}{Strong angle lemma}\label{lem:strong-angle}
Let $\spc{L}$ be a complete length $\Alex{}$ space and $p\ne q\in \spc{L}$ be such that there is unique geodesic from $p$ to $q$ in the ultrapower $\spc{L}^\o$.
Then for any hinge  $\hinge  p q x$ we have
\[\mangle\hinge p q x
=
\lim_{
\substack{
\bar x\to p
\\
\bar x\in\,\mathopen{]}px]}}\angk\kappa p q{\bar x}.\eqlbl{eq:1st-var+***}\]
for any $\kappa\in\RR$ such that $\dist{p}{q}{}<\varpi\kappa$.


In partiqular \ref{eq:1st-var+***} holds if $p\in \Str(q)$ as well as if $q\in \Str(p)$ 
\end{thm}

\parbf{Remark.}
\begin{itemize}
\item The above lemma is essentially due to Alexandrov.
The right hand side in \ref{eq:1st-var+***} is called the \index{angle!strong angle}\index{strong angle}\emph{strong angle} of the  hinge $\hinge p q x$. 
Note that in a general metric space the angle and the strong angle of the same hinge might differ.

\item As it follows from Corollary~\ref{cor:two-geodesics-in-ultrapower}, 
if there is a unique geodesic $[p q]$ in the ultrapower $\spc{L}^\o$, then $[p q]$ lies in $\spc{L}$.
\end{itemize}



\parit{Proof of \ref{lem:strong-angle}.}
The first statement follows directly from the first variation formula (\ref{1st-var+}) 
and definition of model angle (see Section~\ref{sec:angles}).
The second statement follows from the Plaut's theorem (\ref{thm:almost.geod}) applyied to $\spc{L}^\o$.
(Note that according to Proposition~\ref{prp:A^omega} $\spc{L}^\o$ is a complete length $\Alex{}$ space.)\qeds


\parit{Proof of \ref{1st-var+}.}
By Corollary~\ref{cor:CAT>k-sence}, we can assume that $\kappa\le 0$.
The inequality 

\[\dist{q}{\geod_{[p x]}(t)}{}
\le\dist{q}{p}{}-t\cdot\cos\phi+o(t)\]
follows from the first variation inequality (\ref{lem:first-var}).
Thus, it is sufficient to show that
\[\dist{q}{\geod_{[p x]}(t)}{}
\ge\dist{q}{p}{}-t\cdot\cos\phi+o(t).\]
Assume the contrary, then there is $\eps>0$, such that  $\phi+\eps<\pi$
and for a sequence $t_n\to 0+$ we have
\[\dist{q}{\geod_{[p x]}(t_n)}{}
<
\dist{q}{p}{}-t_n\cdot\cos(\phi-\eps).
\eqlbl{eq:phi-eps}\]

Set $x_n=\geod_{[p x]}(t_n)$.
Clearly 
\[\angk\kappa {x_n}p q>\pi-\phi+\tfrac\eps2\]
for all large $n$.

Assume $\spc{L}$ is geodesic. 
Choose a sequence of geodesics $[x_n q]$.
Let $[x_n q]\to [pq]_{\spc{L}^\o}$  as $n\to\o$ (in general $[pq]$ might lie in $\spc{L}^\o$).
Applying both parts of hinge comparison (\ref{angle}), 
we get that $\mangle\hinge {x_n}{q}{x}\z<\phi-\tfrac\eps2$  for all large $n$.
According to \ref{lem:ang.semicont-cbb}, the angle between $[pq]$ and $[px]$ is at most $\phi-\tfrac\eps2$, a contradiction.


Finally, if $\spc{L}$ is not geodesic choose a sequence $q_n\in\Str(x_n)$, such that $q_n\to q$ and the inequality 
\[\angk\kappa{x_n}{p}{q_n}\z>\pi-\phi+\tfrac\eps2\] still holds.
Then the same argument as above shows that $[x_n q_n]$ $\o$-converges to a geodesic  $[pq]_{\spc{L}^\o}$ from $p$ to $q$  having angle at most $\phi-\tfrac{\eps}{2}$ with $[px]$.
\qeds



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{On positive lower bound}\label{sec:positive.bound}

In this section we consider $\Alex{\kappa}$ spaces for $\kappa>0$.
Applying rescaling we can assume that $\kappa=1$.

The following theorem states that if one ignores a few exceptional spaces, then the diameter of a space with positive lower curvature bound is bounded.
Note that many authors (but not us) exclude these spaces in the definition of Alexandrov space with positive lower curvature bound.

\begin{thm}{On diameter of a space}\label{diam-k>0}
Let $\spc{L}$ be a complete length $\Alex1$ space. 
Then either 
\begin{subthm}{} $\diam \spc{L}\le \pi$; 
\end{subthm}

\begin{subthm}{} or $\spc{L}$ is isometric to one of the following exceptional spaces: 
\begin{enumerate}
\item real line $\RR$,
\item a half-line $\RR_{\ge0}$,
\item a closed interval $[0,a]\in \RR$, $a>\pi$,
\item a circle $\mathbb{S}^1_a$ of length $a>2\cdot\pi$.
\end{enumerate}
\end{subthm}
\end{thm}


\parit{Proof.} 
Assume that $\spc{L}$ is a geodesic space and $\diam \spc{L}>\pi$. 
Choose $x, y\in \spc{L}$ so that $\dist{x}{y}{}=\pi+\eps$, $0<\eps<\tfrac{\pi}{4}$. 
By moving $y$ slightly, we can also assume that the  geodesic $[x y]$ is unique;
to prove this, use either Plaut's theorem (\ref{thm:almost.geod}) 
or that  geodesics do not split (\ref{thm:g-split}).
Let $z$ be the midpoint of the geodesic $[x y]$.

Consider the function $f=\distfun{x}{}{}+\distfun{y}{}{}$.
As it follows from Lemma~\ref{concave-pi/2}, 
$f$ is concave in $\oBall(z,\tfrac{\eps}{4})$.  
Let $p\in\oBall(z,\tfrac{\eps}{4})$.  
Choose a geodesic $[z p]$. 
Set $h(t)=f\circ\geod_{[z p]}(t)$ and $\ell=\dist{z}{p}{}$.
Clearly $h$ is concave.
From Adjacent angle lemma (\ref{lem:sum=pi}), we have that $h^+(0)=0$. 
Therefore $h$ is nonincreasing which means that \[\dist{x}{p}{}+\dist{y}{p}{}
=
h(\ell)\le h(0)
=
\dist{x}{y}{}.\]  
Since the geodesic $[x y]$ is unique this means that $p\in [x y]$ and hence
 $\oBall(z,\tfrac{\eps}{4})$ only contains points of $[x y]$.
Since in $\Alex{}$ spaces, geodesics do not bifurcate (\ref{nonsplit}), 
it follows that all of $\spc{L}$ coincides with the maximal extension of $[x y]$ as a local geodesic $\gamma$ 
(which might be not minimizing).
In other words, $\spc{L}$ is isometric to a 1-dimensional Riemannian manifold with possibly non empty boundary.
From this, it is easy to see that $\spc{L}$ falls into one of the exceptional spaces described in the theorem.

Lastly, if $\spc{L}$ is not geodesic and $\diam \spc{L}>\pi$, then the above argument applied to $\spc{L}^\o$ yields that $\spc{L}^\o$ is isometric to one of the exceptional spaces. 
As all of those spaces are proper it means that $\spc{L}=\spc{L}^\o$.
\qeds

\begin{thm}{Lemma}\label{concave-pi/2}
Let $\spc{L}$ be a complete length $\Alex1$ space and $p\in \spc{L}$.
Then $\distfun{p}{}{}\:\spc{L}\to\RR$ is concave in $\oBall(p,\pi)\backslash \oBall(p,\tfrac\pi2)$.

In particular, if $\diam\spc{L}\le\pi$ 
then the complements $\spc{L}\backslash \oBall(p,r)$ and $\spc{L}\backslash \cBall[p,r]$ are convex for any $r>\tfrac\pi2$.

\end{thm}
\parit{Proof.}
This is a consequence of \ref{comp-kappa}. 
\qeds

\begin{thm}{Exercise}\label{ex:fixed-point}
Let $\spc{L}$ be an $m$-dimensional complete length $\Alex1$ space and $\diam\spc{L}\le\pi$.
Assume that a group $G$ acts on  $\spc{L}$ by isometries and has closed orbits and 
\[\diam(\spc{L}/G)>\tfrac\pi2.\]
Show that the action of $G$ has a fixed point in $\spc{L}$.
\end{thm}

\begin{thm}{Advanced exercise}\label{ex:kleiner}
Let $\spc{L}$ be a complete length $\Alex{1}$ space.
Show that $\spc{L}$ contains at most 3 points with space of directions $\le\tfrac12\cdot\mathbb{S}^n$.
\end{thm}

{\sloppy 

\begin{thm}{On perimeter of a triple}\label{perim-k>0}
Let  
$\spc{L}$ be a complete length $\Alex1$ space
and $\diam \spc{L}\le \pi$.
Then the perimeter of any triple of points $p,q,r\in \spc{L}$ is at most $2\cdot\pi$.
\end{thm}

}

\parit{Proof.}  
Arguing by contradiction, suppose 
\[\dist{p}{q}{}+\dist{q}{r}{}+\dist{r}{p}{}> 2\cdot\pi\eqlbl{eq:perimeter-of-triange<2pi}\] 
for some $p,q,r\in \spc{L}$. 
Rescaling the space slightly, we can assume that $\diam\spc{L}<\pi$,
but the inequality \ref{eq:perimeter-of-triange<2pi} still holds.

By Corollary \ref{cor:CAT>k-sence},
after rescaling $\spc{L}$ is still $\Alex1$.

Since $\spc{L}$ is G-delta geodesic (\ref{thm:almost.geod}), it is sufficient to consider case when there is a geodesic $[q r]$. 

\begin{wrapfigure}{r}{35 mm}
\vskip-0mm
\centering
\includegraphics{mppics/pic-840}
\end{wrapfigure}

First note that since $\diam \spc{L}<\pi$, by \ref{comp-kappa} we have that the function
\[y(t)=\md1\dist[{{}}]{p}{\geod_{[q r]}(t)}{}\]
satisfies the differential inequality $y''\le 1- y$.


Take $z_0\in [q r]$ so that restriction $\distfun{p}{}{}|_{[q r]}$ attains its maximum at $z_0$, 
set $t_0=\dist{q}{z_0}{}$ so $z_0=\geod_{[q r]}(t_0)$.
Consider the following model configuration: two geodesics $[\tilde p\tilde z_0]$, $[\tilde q\tilde r]$ in $\mathbb{S}^2$ such that 
\begin{align*}
\dist{\tilde p}{\tilde z_0}{}&=\dist{p}{z_0}{},
&  
\dist{\tilde q}{\tilde r}{}&=\dist{q}{r}{},
\\ 
\dist{\tilde z_0}{\tilde q}{}&=\dist{z_0}{q}{},
&  
\dist{\tilde z_0}{\tilde r}{}&=\dist{z_0}{q}{}
\end{align*}
and 
\[\mangle\hinge{\tilde z_0}{\tilde q}{\tilde p}
=\mangle\hinge{\tilde z_0}{\tilde r}{\tilde p}
=\tfrac\pi2.\]
Clearly,
$\bar y(t)=\md1\dist[{{}}]{\tilde p}{\geod_{[\tilde q\tilde r]}(t)}{}$ 
satisfies $\bar y''=1-\bar y$ and $\bar y'(t_0)=0$,
$\bar y(t_0)=y(t_0)$.
Since $z_0$ is a maximum point, 
$y(t)\le y(t_0)+o(t-t_0)$;
thus, $\bar y(t)$ is a barrier for 
$y(t)=\md1\dist[{{}}]{p}{\geod_{[q r]}(t)}{}$ at 
$t_0$ by \ref{barrier'}.
From barrier inequality (\ref{barrier'}), we get 
\[\dist{\tilde p}{\geod_{[\tilde q\tilde r]}(t)}{}
\ge 
\dist{p}{\geod_{[q r]}(t)}{},\]
thus, $\dist{\tilde p}{\tilde q}{}\ge\dist{p}{q}{}$ and $\dist{\tilde p}{\tilde r}{}\ge\dist{p}{r}{}$.

Therefore, 
$\dist{p}{q}{}+\dist{q}{r}{}+\dist{r}{p}{}$ can not exceed the perimeter of the  spherical triangle $\trig{\tilde p}{\tilde q}{\tilde r}$; 
that is,
\[\dist{p}{q}{}+\dist{q}{r}{}+\dist{r}{p}{}\le 2\cdot\pi,\]
a contradiction.
\qeds


Let $\kappa>0$.
Consider the following extension $\angk{\kappa+}{{*}}{{*}}{{*}}$ 
of the model angle function $\angk\kappa{{*}}{{*}}{{*}}$.
This definition works well for $\Alex{}$ spaces,  for $\CAT{}$ spaces there is a similar but different definition.
Some authors define the comparison angle to be $\angk{\kappa+}{{*}}{{*}}{{*}}$.

\begin{thm}{Definition of extended angle}\label{def:extended-angle}
Let $p,q,r$ be points in a metric space such that $p\not=q$, $p\not=r$. 
Then set
\[\angk{\kappa+} p q r=\sup\set{\angk{\Kappa} p q r}{\Kappa\le\kappa}.\]
The value $\angk{\kappa+} p q r$ is called the \index{angle!extended model angle}\index{model angle!extended model angle}\index{extended model angle}\emph{extended model angle} of the triple $p$, $q$, $r$.
\end{thm}

\begin{thm}{Extended angle comparison}
Let $\kappa>0$ 
and $\spc{L}$ be a complete length $\Alex{}$ space. 
Then for any hinge 
$\hinge p q r$ we have 
$\mangle\hinge p q r
\ge\angk{\kappa+} p q r$.

Moreover, the extended model angle  $\angk{\kappa+} p q r$ can be calculated using the following rules:

\begin{subthm}{} $\angk{\kappa+} p q r=\angk{\kappa} p q r$ if $\angk{\kappa} p q r$ is defined;
\end{subthm}

\begin{subthm}{} $\angk{\kappa+} p q r=\angk{\kappa+} p r q=0$ if $\dist{p}{q}{}+\dist{q}{r}{}=\dist{p}{r}{}$;
\end{subthm}

\begin{subthm}{} $\angk{\kappa+} p q r=\pi$ if none of above is applicable. 
\end{subthm}
\end{thm}

\parit{Proof.}
From Corollary~\ref{cor:CAT>k-sence}, $\Kappa<\kappa$ implies that any complete length $\Alex{\Kappa}$ space is $\Alex{\kappa}$; 
thus the extended angle comparison follows from the definition.

The rules for calculating extended angle is an easy consequence of its definition.
\qeds

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Remarks and open problems}

The question whether the first part of \ref{angle} suffices to conclude that $\spc{L}$ is $\Alex\kappa$ is a long standing open problem (possibly dating back to Alexandrov),
but as far as we know, in print it was first stated in \cite[footnote in 4.1.5]{burago-burago-ivanov}.


\begin{thm}{Open question}\label{open:hinge-}
Let $\spc{L}$ be a complete geodesic space (you can also assume that $\spc{L}$ is homeomorphic to $\mathbb{S}^2$ or $\RR^2$) 
such that for any hinge $\hinge x p y$ in $\spc{L}$, 
the angle $\mangle\hinge x p y$ is defined and 
\[\mangle\hinge x p y\ge\angk0 x p y.\]
Is it true that $\spc{L}$ is $\Alex{0}$?
\end{thm}









